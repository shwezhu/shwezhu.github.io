---
title: "Hugo With MemE"
date: 2023-04-19T23:31:57-03:00
tags:
  - Hugo
  - MemE
---

1. ä»‹ç»å¤‡ä»½åšå®¢çš„æ€è·¯
2. ä»‹ç»å¦‚ä½•ä½¿ç”¨å¹¶å¾®æ”¹MemEä¸»é¢˜

<!-- more -->

## 1. å›¾ç‰‡æ’å…¥

æƒ³è¯´Huloæ’å…¥å›¾ç‰‡çœŸçš„å¾ˆç®€å•, åªéœ€è¦åœ¨åšå®¢æ ¹ç›®å½•åˆ›å»ºä¸ªä¸åšå®¢åŒåçš„æ–‡ä»¶å¤¹å³å¯

å›¾ç‰‡æ‰€åœ¨çš„ä½ç½®:

```
â”œâ”€â”€ static
â”‚Â Â  â””â”€â”€ posts
â”‚Â Â      â””â”€â”€ hello-world
â”‚Â Â          â””â”€â”€ violet.png
```

åšå®¢æ‰€åœ¨çš„ä½ç½®:

```
â”œâ”€â”€ content
â”‚Â Â  â”œâ”€â”€ about
â”‚Â Â  â”‚Â Â  â””â”€â”€ _index.md
â”‚Â Â  â””â”€â”€ posts
â”‚Â Â      â””â”€â”€ hello-world.md
```

`hello-world.md`çš„å†…å®¹:

```
---
title: "Hello World"
date: 2023-04-19T01:27:18-03:00
draft: true
---

Hello, world...

![](violet.png)
```

å‚è€ƒ:

- [Adding images in Hugo | blog](https://parzival2.github.io/blog/posts/add-images-hugo/)

----

## 2. å½’æ¡£é¡µé¢

å¦‚æœä½ æœ‰å¤šä¸ªæ–‡ç« åˆ†åŒºï¼Œä½ å¯èƒ½å°±éœ€è¦ä¸€ä¸ªå½’æ¡£é¡µé¢ï¼Œæ€ä¹ˆé…ç½®å‘¢ï¼Ÿ

é¦–å…ˆï¼Œåœ¨ç«™ç‚¹çš„ `content` æ–‡ä»¶å¤¹ä¸‹æ–°å»ºä¸€ä¸ªåä¸º `archives` çš„æ–‡ä»¶å¤¹ï¼Œå¹¶åœ¨è¯¥æ–‡ä»¶å¤¹ä¸‹æ–°å»ºä¸€ä¸ª `_index.md` æ–‡ä»¶ï¼Œé‡Œé¢åŠ ä¸Šï¼š

```t
+++
title = "Archives"
+++
```

ç„¶åï¼Œæ·»åŠ ä¸€ä¸ªå…¥å£ï¼Œæ¯”å¦‚åœ¨èœå•æ ä¸­ï¼Œå¾€ `config.toml` ä¸­åŠ å…¥ï¼š

```toml
[[menu.main]]
    url = "/archives/"
    name = "Archives"
    weight = 2
    pre = "internal"
    post = "archive"
```

å…¶ä¸­ï¼Œ`weight` å¯è‡ªè¡Œä¿®æ”¹ä¸€ä¸‹ã€‚

---

## 3. æ–‡ç« åˆ†ç±»

é¦–å…ˆï¼Œåœ¨ç«™ç‚¹çš„ `content` æ–‡ä»¶å¤¹ä¸‹æ–°å»ºä¸€ä¸ªåä¸º `tags` çš„æ–‡ä»¶å¤¹ï¼Œå¹¶åœ¨è¯¥æ–‡ä»¶å¤¹ä¸‹æ–°å»ºä¸€ä¸ª `_index.md` æ–‡ä»¶ï¼Œé‡Œé¢åŠ ä¸Šï¼š

```
+++
title = "Tags"
+++
```

ç„¶åï¼Œä¿®æ”¹tagå…¥å£ï¼Œä¿®æ”¹ `config.toml` å¦‚ä¸‹ï¼š

```toml
[[menu.main]]
        pageref = "/tags/"
        name = "Tags"
        weight = 4
        pre = "internal"
        post = "tags"
```

åˆ°æ­¤æˆ‘ä»¬å°±è®¾ç½®å¥½äº†åšå®¢çš„headeré¡µé¢,  `config.toml`å†…å®¹å¦‚ä¸‹:

```toml
[menu]
    ## Menu bar
    [[menu.main]]
        pageref = "/tags/"
        name = "Tags"
        weight = 4
        pre = "internal"
        post = "tags"
    [[menu.main]]
        weight = 6
        identifier = "theme-switcher"
    [[menu.main]]
        weight = 7
        identifier = "lang-switcher"
    [[menu.main]]
        weight = 8
        identifier = "search"
        post = "search"
    [[menu.main]]
        url = "/archives/"
        name = "Archives"
        weight = 2
        pre = "internal"
        post = "archive"
```

---

## 4. è®¾ç½®ä¸»é¡µFooter

ä¸»è¦ä¿®æ”¹æ ¹ç›®å½•ä¸‹çš„é…ç½®æ–‡ä»¶`config.toml`, ä»”ç»†æŸ¥çœ‹, é‡Œé¢æœ‰å¾ˆå¤šæ³¨é‡Š, å¾ˆå¤šéƒ½æ˜¯ç›´æ¥ä¿®æ”¹trueå’Œfalseå°±è¡Œäº†, 

æ¯”å¦‚ä¸‹é¢è¿™æ®µ, 

```toml
######################################
    # å…¨å±€Footer
    enableFooter = true
    # ä½¿èƒ½åæ–‡ç« ä¸‹æœ‰footer
    displayFooter = false
    # ä¸»é¡µfooter
    displayFooterInHome = true

    displayCopyleftSymbol = false
    displayCopyrightSymbol = true
    displaySiteCreatedYear = true

    # Leave it empty("") if you donâ€™t want
    # the icon
    iconBetweenYearAndAuthor = "heart"
    iconColor = "#f06292"
    # Enable heartbeat animation?
    # iconAnimation = true

    # Socials
    enableSocials = true
    # Note: see data/Socials.toml
```

çœ‹æœ€åè¯´çš„see data/Socials.toml, å…¶å®å°±æ˜¯æ–‡ä»¶å¤¹`blog/themes/meme/data`ä¸‹å­˜æ”¾äº†`data/Socials.toml`åœ¨è¿™ä¿®æ”¹footeré‡Œçš„é“¾æ¥, å¦‚æœGitHub, Twitterç­‰... å…¶å®ä¸»é¢˜MemEä¸‹çš„ç›®å½•å°±æ˜¯`blog/themes/meme/da ta`, é‡Œé¢çš„`SVG.toml`å’Œ`Socials.toml`éƒ½æ˜¯ç›¸å…³è‡ªå®šä¹‰, å…¶ä¸­`SVG.toml`æ˜¯ç”¨æ¥æ”¾iconçš„, 

----

## 5. åœ¨footerè®¾ç½®çŒ«çŒ«jiojioå›¾æ ‡

æ‰“å¼€`blog/themes/meme/data/SVG.toml`æŸ¥çœ‹å†…å®¹, å¦‚ä¸‹

```toml
# Please do NOT edit this file!
#
# This file stores all SVG images used by MemE.
#
# If you want to customize or add an icon, please create
# a new `SVG.toml` file in your site `data` directory.
#
# Note that you really donâ€™t need to copy the entire file
# for customization. In Hugo, data files can be
# overwritten by *key*!
#
# Also, please be sure to add `class` attribute into the SVG.
# The value, `brand` for brand; `icon` for icons, i.e.
#   `<svg ... class="brand">`
#   `<svg ... class="icon">`
```

äºæ˜¯åœ¨`blog/data/`ä¸‹åˆ›å»ºæ–‡ä»¶`SVG.toml`, ç„¶åå»[Font Awesome](https://fontawesome.com/)æ‰¾åˆ°è‡ªå·±å–œæ¬¢çš„å›¾æ ‡, å¤åˆ¶å…¶svgé“¾æ¥, æ”¾åˆ°`SVG.toml`ä¸­, å¹¶èµ‹äºˆå…¶åå­—(åˆ›å»ºå˜é‡), å¦‚æˆ‘çš„è¿™ä¸ªå°±æ˜¯åˆ›å»ºå˜é‡`paw`, ç„¶ååˆ«å¿˜äº†ç»™svgæ·»åŠ classå€¼è®¾ç½®ä¸º`icon` , æ ¼å¼å¦‚ä¸‹: 

```json
paw = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon"><!--! Font Awesome Pro 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M226.5 92.9c14.3 42.9-.3 86.2-32.6 96.8s-70.1-15.6-84.4-58.5s.3-86.2 32.6-96.8s70.1 15.6 84.4 58.5zM100.4 198.6c18.9 32.4 14.3 70.1-10.2 84.1s-59.7-.9-78.5-33.3S-2.7 179.3 21.8 165.3s59.7 .9 78.5 33.3zM69.2 401.2C121.6 259.9 214.7 224 256 224s134.4 35.9 186.8 177.2c3.6 9.7 5.2 20.1 5.2 30.5v1.6c0 25.8-20.9 46.7-46.7 46.7c-11.5 0-22.9-1.4-34-4.2l-88-22c-15.3-3.8-31.3-3.8-46.6 0l-88 22c-11.1 2.8-22.5 4.2-34 4.2C84.9 480 64 459.1 64 433.3v-1.6c0-10.4 1.6-20.8 5.2-30.5zM421.8 282.7c-24.5-14-29.1-51.7-10.2-84.1s54-47.3 78.5-33.3s29.1 51.7 10.2 84.1s-54 47.3-78.5 33.3zM310.1 189.7c-32.3-10.6-46.9-53.9-32.6-96.8s52.1-69.1 84.4-58.5s46.9 53.9 32.6 96.8s-52.1 69.1-84.4 58.5z"/></svg>'
```

ç„¶åè®¾ç½®æ ¹ç›®å½•ä¸‹çš„é…ç½®æ–‡ä»¶, æŠŠçˆ±å¿ƒğŸ’—iconæ”¹ä¸º`paw`, 

```toml
# Leave it empty("") if you donâ€™t want
# the icon
iconBetweenYearAndAuthor = "paw"
# iconColor = "#f06292"
# Enable heartbeat animation?
# iconAnimation = true
```

---

## 6. å–æ¶ˆåšå®¢å°¾éƒ¨çš„å„ç§åˆ†äº«å›¾æ ‡

ç¼–è¾‘æ ¹ç›®å½•ä¸‹çš„é…ç½®æ–‡ä»¶`config.toml`, æ‰¾åˆ°è¿™ä¸ªé€‰é¡¹, è®¾ç½®æˆfalse

```
######################################
    # Post Share
    enablePostShare = false
```

---

## 7. å…¶ä»–è®¾ç½®

ä¸‹é¢éƒ½æ˜¯ç¼–è¾‘æ ¹ç›®å½•ä¸‹çš„é…ç½®æ–‡ä»¶`config.toml`

### 7.1. è®¾ç½®åšå®¢å†…å®¹å®½åº¦

```toml
# The content width of the post
    postWidth = 50
    # Note: you can leave it empty("") to
    #       fallback to the default value: 42
    #       Unit: em
```

### 7.2. è®¾ç½®ä»£ç é«˜äº®é¢œè‰²

å› ä¸ºå®ƒçš„é»˜è®¤æ³¨é‡Šæ˜¯è“è‰², å¾ˆä¸‘,  æ‰¾åˆ°`/blog/themes/meme/assets/scss/themes/_light.scss` ä¿®æ”¹å¯¹åº”éƒ¨åˆ†å†…å®¹å¦‚ä¸‹:

```
    @if ($enableHighlight) {
        /* https://xyproto.github.io/splash/docs/all.html */
        /* Color values matching manni style */

        --chroma-line-numbers-background: #ffffcc;
        --chroma-line-numbers-color: #7f7f7f;
        --chroma-keyword-color: #006699;
        --chroma-name-color: #9999ff;
        --chroma-attribute-color: #330099;
        --chroma-literal-color: #cc3300;
        --chroma-number-color: #009999;
        --chroma-comment-color: #999988;
        --chroma-deleted-color: #ffcccc;
        --chroma-output-color: #aaaaaa;
    }
```

å¦‚æœä½ ä¸å–œæ¬¢ MemE é»˜è®¤çš„ä»£ç é«˜äº®çš„æ ·å¼ï¼Œå¯ä»¥å‰å¾€[è¿™ä¸ªåˆ—è¡¨](https://xyproto.github.io/splash/docs/longer/all.html)æ‰¾ä¸€ä¸ªä½ å–œæ¬¢çš„ï¼Œæ¯”å¦‚ `monokai`ï¼Œç„¶åï¼š

```sh
hugo gen chromastyles --style=monokai
```

å°†è¾“å‡ºä¸ [`_highlight.scss`](https://github.com/reuixiy/hugo-theme-meme/blob/master/assets/scss/components/_highlight.scss) ä¸­çš„ç›¸å…³ä»£ç å¯¹æ¯”ï¼Œæ‰¾å‡ºç›¸å…³é¢œè‰²å€¼ï¼Œç„¶å[å®šåˆ¶](https://io-oi.me/tech/documentation-of-hugo-theme-meme/#å®šåˆ¶)ä¸€ä¸‹ [`assets/scss/themes/`](https://github.com/reuixiy/hugo-theme-meme/tree/master/assets/scss/themes) ä¸­çš„ç›¸åº”æ–‡ä»¶å†…çš„ç›¸åº”ä»£ç å³å¯ã€‚

### 7.3. å–æ¶ˆæ–‡ç« ç¬¬ä¸€ä¸ªå­—å˜å¤§

```toml
######################################
    ## Drop Cap
    enableDropCap = false
```

### 7.4. å¼€å¯æç®€é¡µè„š

```toml
######################################
    # Post Tags
    enablePostTags = false
    postTagsIcon = "tag"
 
 ######################################
    # Minimal Footer

    enableMinimalFooter = true
    enableVerticalBarStructure = false
    # Note: If you enable this, the
    #       categories or sections that
    #       displayed on the right will
    #       include all top-level
    #       categories or sections and are
    #       separated by vertical bar(|).
    enableAboutPageMinimalFooter = true
```

### 7.5. å–æ¶ˆæ–‡ç« æ ‡é¢˜æ‰€æœ‰å­—æ¯å¤§å†™

```
## Small Caps
    enableSmallCaps = false
    # Note: apply to headings & post toc
    #       title only
    #       *global settings*
    #       `smallCaps` in postâ€™s Front Matter
    #       has a higher priority than here
```



----

## 8. å…³äºHexoå’ŒHugo

åœ¨ Hugo ä¸­ï¼Œä¸ `hexo s` å‘½ä»¤ç­‰åŒçš„æ˜¯ `hugo server`ï¼Œä½†ç”±äºé»˜è®¤çš„[æ–‡ç« æ¨¡æ¿](https://gohugo.io/content-management/archetypes/)é‡Œé¢æœ‰ `draft: true`ï¼Œæ•…éœ€åŠ ä¸Š `-D` å‚æ•°ä»¥æ¸²æŸ“è‰ç¨¿ï¼›ä¸ `hexo g` å‘½ä»¤ç­‰åŒçš„æ˜¯ `hugo`ï¼Œç”¨æ¥ç”Ÿæˆ `public` æ–‡ä»¶å¤¹ï¼›ä¸ `hexo clean` ç±»ä¼¼çš„å‘½ä»¤æ˜¯ `hugo --gc --cleanDestinationDir`ï¼›åœ¨ Hugo ä¸­å¯ä»¥ç›´æ¥ä½¿ç”¨ `hugo --minify` å‹ç¼© HTMLã€JSã€CSS ç­‰æ–‡ä»¶ï¼›åœ¨ Hugo ä¸­ï¼Œæ²¡æœ‰ `hexo d` [ä¸€é”®éƒ¨ç½²](https://hexo.io/zh-cn/docs/one-command-deployment) `public` æ–‡ä»¶å¤¹åˆ° GitHub çš„æ“ä½œï¼Œä½ éœ€è¦è‡ªå·±[æ–°å»ºè„šæœ¬](https://gohugo.io/hosting-and-deployment/hosting-on-github/)ï¼Œä½†æˆ‘å»ºè®®ä½¿ç”¨ Git ç®¡ç†æ•´ä¸ªç«™ç‚¹ï¼Œç„¶åä¸Šä¼ æ•´ä¸ªç«™ç‚¹åˆ° GitHub ä»¥é€šè¿‡[æŒç»­é›†æˆ](https://io-oi.me/tech/host-your-blog-on-ipfs/)çš„æ–¹å¼éƒ¨ç½²ï¼Œè€Œéç”¨ Git ç›´æ¥éƒ¨ç½² `public` ç”Ÿäº§ç‰ˆä»£ç ï¼Œå› ä¸ºè¿™å…¶å®æ˜¯éå¸¸å¯ç¬‘çš„â€”â€”Git æ˜¯ç”¨æ¥ç®¡ç†æºç çš„ã€‚æ­¤å¤–ï¼Œå…³äº `hugo` å‘½ä»¤çš„æ›´å¤šå‚æ•°ï¼Œè¯·è§ [Commands](https://gohugo.io/commands/)ã€‚

æœ€åï¼ŒHugo é»˜è®¤æ˜¯æ¸²æŸ“åˆ°å†…å­˜çš„ï¼Œå¦‚æœä½ æœ‰ä¸€äº›ç‰¹æ®Šæƒ…å†µè¦è°ƒè¯•ï¼Œæ¯”å¦‚ [Service Worker](https://io-oi.me/tech/pwa-via-workbox/)ï¼Œé‚£ä¹ˆä½ å¯ä»¥é€šè¿‡ä½¿ç”¨ `--renderToDisk` å‚æ•°æ¸²æŸ“åˆ°ç¡¬ç›˜æ¥å®ç°è°ƒè¯•ã€‚æ­¤å¤–ï¼Œå¦‚æœä½ æœ‰ä¸€ä¸ªåšé‡çš„ `static` æ–‡ä»¶å¤¹ï¼ˆæ¯”å¦‚æœ‰å¤§é‡å›¾ç‰‡æˆ–è§†é¢‘ï¼‰ï¼Œé‚£ä¹ˆä¹Ÿå¯ä»¥ä½¿ç”¨è¯¥å‚æ•°ä»¥æ¸²æŸ“åˆ°ç¡¬ç›˜ã€‚ä¸ç„¶ï¼ŒHugo å¯èƒ½ä¼šåƒå…‰ä½ çš„ç”µè„‘å†…å­˜ğŸ¤ªã€‚

å‚è€ƒ:

- [Hugo ä¸ Hexo çš„å¼‚åŒ | reuixiy](https://io-oi.me/tech/hugo-vs-hexo/)

---

## 9. åˆ›å»ºæ–°ç½‘ç«™

```shell
hugo new site blog
```

ç„¶åç”¨æˆ‘çš„`themes`æ–‡ä»¶å’Œåšå®¢æ ¹ç›®å½•ä¸‹çš„`config.toml`ç›´æ¥æ›¿æ¢æ–°çš„åšå®¢æ–‡ä»¶å¤¹é‡Œçš„è¿™ä¸¤ä¸ªæ–‡ä»¶, 

```shell
hugo new "posts/hello-world.md"

hugo server -D
```

è¿™ä¸¤ä¸ªæ–‡ä»¶åœ¨`backup`åˆ†æ”¯[shwezhu/shwezhu.github.io](https://github.com/shwezhu/shwezhu.github.io)

---

## 10. å¤‡ä»½

### 10.1. å¤‡ä»½åšå®¢å†…å®¹

åœ¨åšå®¢æ ¹ç›®å½•ä¸‹æ·»åŠ `.gitignore`æ–‡ä»¶,  å†…å®¹å¦‚ä¸‹:

```sh
.DS_Store
.hugo_build.lock
.gitmodules

node_modules/
public/
assets/
layouts/
resources/
data/
archetypes/
```

åˆ é™¤æ ¹ç›®å½•çš„`.git` å¹¶é‡æ–°åˆå§‹åŒ–git, **æ³¨æ„æ¯æ¬¡ä¿®æ”¹åšå®¢è¦åœ¨backupåˆ†æ”¯ä¸‹ä¿®æ”¹, ä¸€å®šè¦åœ¨backupåˆ†æ”¯ä¸‹è¿›è¡Œcommit**, 

```shell
cd blog/
git init
git switch -c backup

git add .
git commit -m "$(date)"
git remote add origin git@github.com:shwezhu/shwezhu.github.io.git
git push origin backup
```

### 10.2. éƒ¨ç½²é™æ€ç½‘é¡µåˆ°GitHub Pages

è¿›å…¥åˆ°`public`æ–‡ä»¶å¤¹, 

```shell
git init 
# æ·»åŠ ä½ å‘å¿½ç•¥çš„æ–‡ä»¶
touch .gitignore

git add .
git commit -m "init website"
git remote add origin git@github.com:shwezhu/shwezhu.github.io.git

git push origin main
```

ç„¶ååœ¨GitHubè®¾ç½®é‡Œ, è®¾ç½®github page, é»˜è®¤åˆ†æ”¯æ˜¯main, è€Œä¸æ˜¯backup, è¿™æ ·æ‰èƒ½æ­£ç¡®éƒ¨ç½²ç½‘ç«™, 

å†™äº†ç®€å•script, ä¸€é”®å¤‡ä»½, çœäº‹äº†(ç»™shæ–‡ä»¶æ·»åŠ å¯æ‰§è¡Œæƒé™`chmod u+x deploy.sh`):

`deploy.sh`:

```shell
./scripts/backup.sh
./scripts/render.sh
```

`backup.sh`:

```shell
#!/bin/bash
git switch backup
git add .
git commit -m "$(date)"
git push origin backup
```

`render.sh`:

```shell
#!/bin/bash
hugo
cd `dirname $0`/../public

git add .
git commit -m "$(date)"
git push origin main
```

