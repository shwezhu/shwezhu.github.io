<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>æ‰‹åŠ¨éƒ¨ç½²WaråŒ…åˆ°Tomcatä¹‹ä½•ä¸ºWar - David&#39;s Blog</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="David" /><meta name="description" content="Web application resources or web application archives are commonly called WAR files. A WAR file is used to deploy a Java EE web application in an application server. Inside a WAR file, all the web components are packed into one single unit. These include JAR files, JavaServer Pages, Java servlets, Java class files, XML files, HTML files, and other resource files that we need for web applications. We can use" />






<meta name="generator" content="Hugo 0.123.7 with theme even" />


<link rel="canonical" href="https://davidzhu.xyz/post/java/backend/war/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="æ‰‹åŠ¨éƒ¨ç½²WaråŒ…åˆ°Tomcatä¹‹ä½•ä¸ºWar" />
<meta property="og:description" content="Web application resources or web application archives are commonly called WAR files. A WAR file is used to deploy a Java EE web application in an application server. Inside a WAR file, all the web components are packed into one single unit. These include JAR files, JavaServer Pages, Java servlets, Java class files, XML files, HTML files, and other resource files that we need for web applications. We can use" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://davidzhu.xyz/post/java/backend/war/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2023-04-27T21:30:48+00:00" />
<meta property="article:modified_time" content="2023-04-27T21:30:48+00:00" />

<meta itemprop="name" content="æ‰‹åŠ¨éƒ¨ç½²WaråŒ…åˆ°Tomcatä¹‹ä½•ä¸ºWar">
<meta itemprop="description" content="Web application resources or web application archives are commonly called WAR files. A WAR file is used to deploy a Java EE web application in an application server. Inside a WAR file, all the web components are packed into one single unit. These include JAR files, JavaServer Pages, Java servlets, Java class files, XML files, HTML files, and other resource files that we need for web applications. We can use"><meta itemprop="datePublished" content="2023-04-27T21:30:48+00:00" />
<meta itemprop="dateModified" content="2023-04-27T21:30:48+00:00" />
<meta itemprop="wordCount" content="3491">
<meta itemprop="keywords" content="Java," /><meta name="twitter:card" content="summary"/><meta name="twitter:title" content="æ‰‹åŠ¨éƒ¨ç½²WaråŒ…åˆ°Tomcatä¹‹ä½•ä¸ºWar"/>
<meta name="twitter:description" content="Web application resources or web application archives are commonly called WAR files. A WAR file is used to deploy a Java EE web application in an application server. Inside a WAR file, all the web components are packed into one single unit. These include JAR files, JavaServer Pages, Java servlets, Java class files, XML files, HTML files, and other resource files that we need for web applications. We can use"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">David&#39;s Blog</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">David&#39;s Blog</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">æ‰‹åŠ¨éƒ¨ç½²WaråŒ…åˆ°Tomcatä¹‹ä½•ä¸ºWar</h1>

      <div class="post-meta">
        <span class="post-time"> 2023-04-27 </span>
        <div class="post-category">
            <a href="/categories/java/"> Java </a>
            <a href="/categories/backend/"> Backend </a>
            </div>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  <div class="post-toc-content always-active">
    <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#step-1-add-a-new-user-with-deployment-rights-to-tomcat">Step 1: Add a new user with deployment rights to Tomcat</a>
          <ul>
            <li><a href="#æ— æ³•è®¿é—®-tomcat-ä¸»é¡µé—®é¢˜">æ— æ³•è®¿é—® tomcat ä¸»é¡µé—®é¢˜</a></li>
          </ul>
        </li>
        <li><a href="#step-2-tell-maven-about-the-tomcat-deploy-user">Step 2: Tell Maven about the Tomcat deploy user</a></li>
        <li><a href="#step-3-register-the-tomcat7-maven-plugin-in-the-pom">Step 3: Register the tomcat7-maven-plugin in the POM</a></li>
        <li><a href="#final-step-verify">FInal Step: Verify</a></li>
        <li><a href="#æ€è€ƒæ€»ç»“">æ€è€ƒæ€»ç»“</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <p>Web application resources or web application archives are commonly called WAR files. A WAR file is used to deploy a Java EE web application in an application server. Inside a WAR file, all the web components are packed into one single unit. These include JAR files, JavaServer Pages, Java servlets, Java class files, XML files, HTML files, and other resource files that we need for web applications. We can use the Maven WAR plugin to build our project as a <a href="https://www.baeldung.com/java-jar-war-packaging#war">WAR</a> file.</p>
<h2 id="step-1-add-a-new-user-with-deployment-rights-to-tomcat">Step 1: Add a new user with deployment rights to Tomcat</h2>
<p>To perform a Maven Tomcat deploy of a <code>WAR</code> file you must first set up a <strong>user</strong> in Tomcat with the appropriate rights. You can do this with an edit of the <code>tomcat-users.xml</code> file, which can be found in Tomcat&rsquo;s <code>conf</code> sub-directory. Add the following entry <strong>inside</strong> the <code>tomcat-users</code> tag:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="nt">&lt;user</span> <span class="na">username=</span><span class="s">&#34;war-deployer&#34;</span> <span class="na">password=</span><span class="s">&#34;maven-tomcat-plugin&#34;</span> <span class="na">roles=</span><span class="s">&#34;manager-gui, manager-script, manager-jmx&#34;</span> <span class="nt">/&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Save the tomcat-users.xml file and restart the server to have the changes take effect.</p>
<p>é‡å¯Tomcatå°±æ˜¯è¿›åˆ°Tomcatçš„<code>bin</code>ç›®å½•ä¸‹, æ‰§è¡Œ<code>startup.sh</code>, <code>./shutdown.sh</code>, å…¶å®ä½ ç›´æ¥ä½¿ç”¨<code>startup.sh</code>å‘½ä»¤å¼€å¯TomcatæœåŠ¡å°±ä¼šåŠ è½½é…ç½®æ–‡ä»¶äº†, ä¸Šé¢è¯´çš„é‡å¯æ˜¯é»˜è®¤ä½ çš„Tomcatä¸€ç›´å¤„äºè¿è¡ŒçŠ¶æ€. ç°åœ¨ä½ ä¹Ÿåº”è¯¥å¯åŠ¨TomcatæœåŠ¡äº†, å¯åŠ¨åå°è¯•è®¿é—®<code>http://localhost:8080/</code>,</p>
<p><img src="/war/d.png" alt=""></p>
<p>ç‚¹å‡»åè¾“å…¥ä¸Šé¢çš„<code>username</code>å’Œå¯¹åº”çš„<code>password</code>, å³å¯è¿›å…¥ç®¡ç†é¡µé¢å¦‚ä¸‹:</p>
<p><img src="/war/e.png" alt=""></p>
<h3 id="æ— æ³•è®¿é—®-tomcat-ä¸»é¡µé—®é¢˜">æ— æ³•è®¿é—® tomcat ä¸»é¡µé—®é¢˜</h3>
<p>æˆ‘åœ¨è®¿é—®Tomcatä¸»é¡µå‡ºç°äº†é—®é¢˜, è®¿é—®çš„æ€»æ˜¯æˆ‘ä»¥å‰çš„JSPåº”ç”¨, æˆ‘ç”¨IDEAå¼€å‘çš„, ä½†æˆ‘éƒ½æ²¡æ‰“å¼€IDEA, ä»ç„¶å¯ä»¥è®¿é—®åˆ°, çœŸæ˜¯å¥‡äº†æ€ªäº†, å¦‚ä¸‹:</p>
<p><img src="/war/a.png" alt=""></p>
<p>ç„¶åæˆ‘å°±<a href="https://www.cnblogs.com/yayazi/p/7920257.html">æŸ¥åˆ°äº†ä¸€ä¸ªåšå®¢</a>è¯´éœ€è¦å°†Tomcatçš„é¦–é¡µçš„å·¥ç¨‹éƒ¨ç½²åˆ°TomcatæœåŠ¡å™¨ä¸Šï¼Œæˆ‘ä»¬é€šè¿‡IDEAæ¥æ“ä½œ, éƒ¨ç½²æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<p>é€‰æ‹©èœå•æ â€œRun&ndash;&gt;Edit Configuration&hellip;&ndash;&gt;Deploymentâ€, é€‰æ‹©å³ä¸Šè§’ç»¿è‰²â€œ+â€ï¼Œé€‰æ‹©â€œExternal Source&hellip;â€ï¼Œå°†Apache-tomcatçš„<code>webapps</code>ç›®å½•ä¸‹çš„ROOTæ–‡ä»¶å¤¹æ·»åŠ è¿›æ¥, ä¸‹é¢çš„Application Context ç©ºç€, åˆ é™¤ <code>ROOT</code> ä¸‹é¢çš„é‚£ä¸ª<code>ServletDemo:war exploded</code>, å¦‚ä¸‹å›¾:</p>
<p><img src="/war/b.png" alt=""></p>
<p>ç„¶åæˆ‘IDEAä¸Šé€‰æ‹©çš„TomcatæœåŠ¡å™¨ä¸æ˜¯æˆ‘ç°åœ¨ç”¨çš„, æˆ‘æœ‰ä¸ªæ—§çš„TomcatæœåŠ¡å™¨, æˆ‘ä¸çŸ¥é“, ç„¶åIDEAç”¨çš„ä¸€ç›´æ˜¯é‚£ä¸ªæ—§çš„(ä½†æˆ‘åœ¨ä¸Šé¢éƒ¨ç½²ä½ç½®çš„<code>ROOT</code>æ–‡ä»¶å¤¹é€‰æ‹©çš„æ˜¯æ–°çš„Tomcatä¸‹çš„æ–‡ä»¶), æ‰€ä»¥å°±å¯¼è‡´å°±ç®—éƒ¨ç½²é¡¹ç›®å, æˆ‘ä¾ç„¶æ— æ³•è®¿é—®Tomcatçš„ä¸»é¡µ. æ‰€ä»¥æ£€æŸ¥ä¸€ä¸‹ä½ æ˜¯å¦é€‰æ‹©äº†æ­£ç¡®çš„TomcatæœåŠ¡å™¨,</p>
<p><img src="/war/c.png" alt=""></p>
<p>è¿™æ ·é…ç½®å¥½åå†åœ¨IDEAç‚¹å‡»è¿è¡Œ, å°±å¯ä»¥é€šè¿‡<code>http://localhost:8080/</code>è®¿é—® Tomcat ä¸»é¡µäº†, ä¹‹åä½ å…³é—­IDEA, ç›´æ¥è¿›å…¥Tomcatæ ¹ç›®å½•çš„<code>bin</code>ä¸‹é€šè¿‡æ‰§è¡Œ<code>startup.sh</code>æ¥å¯åŠ¨Tomcat.</p>
<p>æœ‰æ—¶å€™ä½ ä¼šé‡åˆ°å…¶ä»–æƒ…å†µ, æ¯”å¦‚8080ç«¯å£è¢«å ç”¨, è¿™æ—¶å€™è§£å†³åŠæ³•ä¹Ÿå¾ˆç®€å•</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># æŸ¥çœ‹PID</span>
</span></span><span class="line"><span class="cl">lsof -n -i4TCP:8080 
</span></span><span class="line"><span class="cl"><span class="c1"># åˆ é™¤8080ç«¯å£å¯¹åº”çš„PID</span>
</span></span><span class="line"><span class="cl"><span class="nb">kill</span> -9 PID
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¯´äº†é‚£ä¹ˆå¤šç»ˆäºè¦è¿›è¡Œä¸‹ä¸€æ­¥äº†,</p>
<h2 id="step-2-tell-maven-about-the-tomcat-deploy-user">Step 2: Tell Maven about the Tomcat deploy user</h2>
<p>After you add the <code>war-deployer</code> user to Tomcat, register that <code>username</code> and <code>password</code> in Maven, along with a named reference to the server. The Maven-Tomcat plugin will use this information when it tries to <a href="https://www.theserverside.com/feature/Is-Apache-Tomcat-the-right-Java-application-server-for-you">connect to the application server</a>. Edit the <code>settings.xml</code> file and add the following entry <strong>within</strong> the <code>&lt;server&gt;</code> tag to create the named reference to the server:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="c">&lt;!-- Configure the Tomcat Maven plugin user --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;server&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;id&gt;</span>maven-tomcat-war-deployment-server&gt;<span class="nt">&lt;/id&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;username&gt;</span>war-deployer<span class="nt">&lt;/username&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;password&gt;</span>maven-tomcat-plugin<span class="nt">&lt;/password&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/server&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>æ³¨æ„, ä¸Šé¢æåˆ°çš„<code>settings.xml</code>æ–‡ä»¶åœ¨<code>Downloads/apache-maven-3.9.1/conf</code>ä¸‹, æ ¹æ®ä½ çš„mavenå®‰è£…ç›®å½•æŸ¥æ‰¾,</p>
<p>å¦å¤–è¿™é‡ŒåŠ çš„è´¦å·å¯†ç å°±æ˜¯ä¸Šé¢åœ¨Tomcatæ·»åŠ ç”¨æˆ·æ—¶å€™çš„è´¦å·å¯†ç , è¿™æ˜¯å› ä¸ºä½ è¿›å…¥Tomcatç®¡ç†é¡µé¢çš„æ—¶å€™éœ€è¦,å¦‚æœä½ ä¸æä¾›(ä¸‹é¢é…ç½®<code>pom.xml</code>ä¹Ÿä¼šè¯´åˆ°), é‚£ç”Ÿæˆwaræ–‡ä»¶çš„æ—¶å€™mavenå°±ä¼šæŠ¥é”™,</p>
</blockquote>
<h2 id="step-3-register-the-tomcat7-maven-plugin-in-the-pom">Step 3: Register the tomcat7-maven-plugin in the POM</h2>
<p>æŠŠæ‰“åŒ…æ ¼å¼æ”¹æˆ<code>war</code>, å³åœ¨<code>pom.xml</code>ä¸­æ‰¾åˆ°<code>&lt;packaging&gt;</code>æ ‡ç­¾, æ²¡æœ‰çš„è¯æ·»åŠ ä¸€ä¸ª, ä¸<code>&lt;dependencies&gt;</code>æ ‡ç­¾å¹¶åˆ—:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="nt">&lt;groupId&gt;</span>com.example<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;artifactId&gt;</span>ServletDemo<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;version&gt;</span>1.0-SNAPSHOT<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;name&gt;</span>ServletDemo<span class="nt">&lt;/name&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;packaging&gt;</span>war<span class="nt">&lt;/packaging&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Now that Maven and Tomcat are configured, the next step is to edit the Java web application&rsquo;s POM file to reference the Tomcat Maven plugin.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="nt">&lt;plugin&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;groupId&gt;</span>org.apache.tomcat.maven<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;artifactId&gt;</span>tomcat7-maven-plugin<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;version&gt;</span>2.0<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;configuration&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;url&gt;</span>http://localhost:8080/manager/text<span class="nt">&lt;/url&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;path&gt;</span>/rps<span class="nt">&lt;/path&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;/configuration&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/plugin&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¿è¡Œ<code>mvn install tomcat7:deploy</code>ç”Ÿæˆwarçš„æ—¶å€™æ€»æ˜¯æŠ¥é”™(å¦‚æœä½ ä¹‹å‰å·²ç»ç”Ÿæˆäº†Waræ–‡ä»¶, è¯·è®°å¾—å»Tomcatæ ¹ç›®å½•ä¸‹çš„<code>webapp</code>ç›®å½•ä¸‹åˆ é™¤ä¸€ç”Ÿæˆçš„waræ–‡ä»¶, å¦åˆ™ä¹Ÿä¼šæŠ¥é”™, å’Œä¸‹é¢ä¸€æ ·):</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="o">[</span>ERROR<span class="o">]</span> Failed to execute goal org.apache.tomcat.maven:tomcat7-maven-plugin:2.0:deploy <span class="o">(</span>default-cli<span class="o">)</span> on project ServletDemo: Cannot invoke Tomcat manager: Broken pipe -&gt; <span class="o">[</span>Help 1<span class="o">]</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>ERROR<span class="o">]</span> 
</span></span><span class="line"><span class="cl"><span class="o">[</span>ERROR<span class="o">]</span> To see the full stack trace of the errors, re-run Maven with the -e switch.
</span></span><span class="line"><span class="cl"><span class="o">[</span>ERROR<span class="o">]</span> Re-run Maven using the -X switch to <span class="nb">enable</span> full debug logging.
</span></span><span class="line"><span class="cl"><span class="o">[</span>ERROR<span class="o">]</span> 
</span></span><span class="line"><span class="cl"><span class="o">[</span>ERROR<span class="o">]</span> For more information about the errors and possible solutions, please <span class="nb">read</span> the following articles:
</span></span><span class="line"><span class="cl"><span class="o">[</span>ERROR<span class="o">]</span> <span class="o">[</span>Help 1<span class="o">]</span> http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException
</span></span></code></pre></td></tr></table>
</div>
</div><p>åŠ å…¥æˆ‘ä»¬åœ¨Tomcat Usersé‡Œé…ç½®çš„è´¦å·å¯†ç :</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="nt">&lt;plugin&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;groupId&gt;</span>org.apache.tomcat.maven<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;artifactId&gt;</span>tomcat7-maven-plugin<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;version&gt;</span>2.0<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;configuration&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;url&gt;</span>http://localhost:8080/manager/text<span class="nt">&lt;/url&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;path&gt;</span>/rps<span class="nt">&lt;/path&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;username&gt;</span>war-deployer<span class="nt">&lt;/username&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;password&gt;</span>maven-tomcat-plugin<span class="nt">&lt;/password&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;/configuration&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/plugin&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>æ³¨æ„: ä¿®æ”¹<code>pom.xml</code>åéœ€è¦æ›´æ–°<code>pom.xml</code></p>
<p>æç¤º: ç‚¹å‡»IDEAè½¯ä»¶çš„å³ä¸Šè§’æœ‰ä¸ªæµ®åŠ¨çš„æ›´æ–°å°æŒ‰é’®å³æ›´æ–°, æˆ–è€…ä½ å¯ä»¥æŸ¥æŸ¥å‘½ä»¤è¡Œmavenæ€ä¹ˆæ›´æ–°<code>pom.xml</code>æ–‡ä»¶.</p>
</blockquote>
<p>ç„¶åé‡æ–°è¿è¡Œ<code>mvn install tomcat7:deploy</code>, æˆåŠŸ:</p>
<p><img src="/war/f.png" alt=""></p>
<p>ç„¶åå»Tomcatæ ¹ç›®å½•çš„<code>webapps</code>ä¸‹æŸ¥çœ‹ç”Ÿæˆçš„War, å¯ä»¥çœ‹åˆ°ç”Ÿæˆäº†åä¸º<code>rps</code>çš„webåº”ç”¨, å³è¿™ä¸ªåå­—å–å†³äºä¸Šé¢<code>pom.xml</code>å¡«çš„å†…å®¹,</p>
<p><img src="/war/g.png" alt=""></p>
<p>ç„¶åæˆ‘ä»¬å¯¹æ¯”ä¸€ä¸‹ç”Ÿæˆçš„warä¸æˆ‘ä»¬çš„æºä»£ç æ–‡ä»¶ç»“æ„:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1">#æºä»£ç </span>
</span></span><span class="line"><span class="cl">.
</span></span><span class="line"><span class="cl">â”œâ”€â”€ pom.xml
</span></span><span class="line"><span class="cl">â”œâ”€â”€ src
</span></span><span class="line"><span class="cl">â”‚Â Â  â””â”€â”€ main
</span></span><span class="line"><span class="cl">â”‚Â Â      â”œâ”€â”€ java
</span></span><span class="line"><span class="cl">â”‚Â Â      â”‚Â Â  â”œâ”€â”€ database
</span></span><span class="line"><span class="cl">â”‚Â Â      â”‚Â Â  â””â”€â”€ servlet
</span></span><span class="line"><span class="cl">â”‚Â Â      â”œâ”€â”€ resources
</span></span><span class="line"><span class="cl">â”‚Â Â      â”‚Â Â  â””â”€â”€ log4j.properties
</span></span><span class="line"><span class="cl">â”‚Â Â      â””â”€â”€ webapp
</span></span><span class="line"><span class="cl">â”‚Â Â          â”œâ”€â”€ WEB-INF
</span></span><span class="line"><span class="cl">â”‚Â Â          â”œâ”€â”€ hello.jsp
</span></span><span class="line"><span class="cl">â”‚Â Â          â””â”€â”€ index.jsp
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># War</span>
</span></span><span class="line"><span class="cl">.
</span></span><span class="line"><span class="cl">â”œâ”€â”€ META-INF
</span></span><span class="line"><span class="cl">â”‚Â Â  â”œâ”€â”€ MANIFEST.MF
</span></span><span class="line"><span class="cl">â”‚Â Â  â”œâ”€â”€ maven
</span></span><span class="line"><span class="cl">â”‚Â Â  â”‚Â Â  â””â”€â”€ com.example
</span></span><span class="line"><span class="cl">â”‚Â Â  â”‚Â Â      â””â”€â”€ ServletDemo
</span></span><span class="line"><span class="cl">â”‚Â Â  â””â”€â”€ war-tracker
</span></span><span class="line"><span class="cl">â”œâ”€â”€ WEB-INF
</span></span><span class="line"><span class="cl">â”‚Â Â  â”œâ”€â”€ classes
</span></span><span class="line"><span class="cl">â”‚Â Â  â”‚Â Â  â”œâ”€â”€ database
</span></span><span class="line"><span class="cl">â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Controller.class
</span></span><span class="line"><span class="cl">â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ DataEntity.class
</span></span><span class="line"><span class="cl">â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Database.class
</span></span><span class="line"><span class="cl">â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ MysqlDatabase.class
</span></span><span class="line"><span class="cl">â”‚Â Â  â”‚Â Â  â”œâ”€â”€ log4j.properties
</span></span><span class="line"><span class="cl">â”‚Â Â  â”‚Â Â  â”œâ”€â”€ servlet
</span></span><span class="line"><span class="cl">â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ GetDataServlet<span class="nv">$1</span>.class
</span></span><span class="line"><span class="cl">â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ GetDataServlet.class
</span></span><span class="line"><span class="cl">â”‚Â Â  â”‚Â Â  â””â”€â”€ <span class="nb">test</span>
</span></span><span class="line"><span class="cl">â”‚Â Â  â”œâ”€â”€ lib
</span></span><span class="line"><span class="cl">â”‚Â Â  â”‚Â Â  â”œâ”€â”€ gson-2.9.0.jar
</span></span><span class="line"><span class="cl">â”‚Â Â  â”‚Â Â  â”œâ”€â”€ log4j-1.2.17.jar
</span></span><span class="line"><span class="cl">â”‚Â Â  â”‚Â Â  â”œâ”€â”€ mysql-connector-j-8.0.32.jar
</span></span><span class="line"><span class="cl">â”‚Â Â  â”‚Â Â  â””â”€â”€ protobuf-java-3.21.9.jar
</span></span><span class="line"><span class="cl">â”‚Â Â  â””â”€â”€ web.xml
</span></span><span class="line"><span class="cl">â”œâ”€â”€ hello.jsp
</span></span><span class="line"><span class="cl">â””â”€â”€ index.jsp
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¯¹äºç”Ÿæˆçš„Waræ–‡ä»¶å¯ä»¥å‘ç°æ‰€æœ‰Javaç›¸å…³çš„æ–‡ä»¶éƒ½åœ¨<code>WEB-INF</code>ä¸‹, æ¯”å¦‚æˆ‘ä»¬ç¼–å†™çš„Servletå­—èŠ‚ç æ–‡ä»¶å’Œå’Œæˆ‘ä»¬ç”¨åˆ°çš„ä¾èµ–(gson, mysql connector, log4j). ç„¶åä»”ç»†çœ‹æºä»£ç æ–‡ä»¶ç»“æ„, åœ¨<code>webapp</code>ä¸‹ä¹Ÿæœ‰ä¸ª<code>WEB-INF</code>, è¿™ä¸‹é¢æ”¾çš„å°±æ˜¯æˆ‘ä»¬é¡¹ç›®çš„<code>web.xml</code>, å†…å®¹å¦‚ä¸‹(æ‰€ä»¥è¿™æœ‰ä»€ä¹ˆè”ç³»å‘¢),</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="cp">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;web-app</span> <span class="na">xmlns=</span><span class="s">&#34;http://xmlns.jcp.org/xml/ns/javaee&#34;</span>
</span></span><span class="line"><span class="cl">         <span class="na">xmlns:xsi=</span><span class="s">&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span>
</span></span><span class="line"><span class="cl">         <span class="na">xsi:schemaLocation=</span><span class="s">&#34;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&#34;</span>
</span></span><span class="line"><span class="cl">         <span class="na">version=</span><span class="s">&#34;4.0&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;welcome-file-list&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;welcome-file&gt;</span>/index.jsp<span class="nt">&lt;/welcome-file&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/welcome-file-list&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;servlet&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;servlet-name&gt;</span>get-data<span class="nt">&lt;/servlet-name&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;servlet-class&gt;</span>servlet.GetDataServlet<span class="nt">&lt;/servlet-class&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/servlet&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;servlet-mapping&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;servlet-name&gt;</span>get-data<span class="nt">&lt;/servlet-name&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;url-pattern&gt;</span>/temperature/*<span class="nt">&lt;/url-pattern&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;url-pattern&gt;</span>/humidity/*<span class="nt">&lt;/url-pattern&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/servlet-mapping&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/web-app&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="final-step-verify">FInal Step: Verify</h2>
<p>ç¡®ä¿ä½ å·²ç»å¼€å¯TomcatæœåŠ¡(å³ä½¿ä½ å…³é—­äº†IDEA, IDEAå’ŒTomcatæ˜¯ä¸¤ä¸ªä¸œè¥¿, IDEAæ˜¯ä¸ªIDEä¼šç”¨åˆ°Tomcatä½œä¸ºwebæœåŠ¡å™¨æ¥éƒ¨ç½²web app), ç„¶åè®¿é—®é€šè¿‡<code>http://localhost:8080/</code>è®¿é—®åˆ°Tomcatä¸»é¡µ, è¿™æ—¶å€™ä½ å¯ä»¥åœ¨é“¾æ¥ğŸ”—ååŠ ä¸Š<code>/rps</code>å³<code>http://localhost:8080/rps/</code>å°±å¯ä»¥è¿›å…¥åˆ°ä½ çš„é‚£ä¸ªwebç½‘é¡µ, å¦‚ä¸‹:</p>
<p><img src="/war/h.png" alt=""></p>
<h2 id="æ€è€ƒæ€»ç»“">æ€è€ƒæ€»ç»“</h2>
<p>è¿™æ—¶å€™å…¶å®æˆ‘ä»¬ä¹Ÿå°±çŸ¥é“äº†ä»€ä¹ˆæ˜¯æ ¹ç›®å½•å’Œurlä¸­ç¥ç§˜çš„è·¯å¾„é—®é¢˜, ä½ çœ‹æˆ‘ä»¬è‹¥æƒ³è®¿é—®<code>manager</code>é¡µé¢, è¿™ä¸ªé¡µé¢çš„urlæ˜¯<code>http://localhost:8080/manager/</code>, æˆ‘ä»¬è®¿é—®æˆ‘ä»¬åˆšéƒ¨ç½²çš„é¡µé¢æ˜¯<code>http://localhost:8080/rps/</code>, ä½ çœ‹æœ€åçš„è¿™ä¸ªè·¯å¾„åŠ<code>/manager</code>, <code>/rps</code>éƒ½æ˜¯tomcatçš„<code>webapps</code>ç›®å½•ä¸‹çš„æ–‡ä»¶, å¦‚ä¸‹:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># David @ tc0db in ~/Downloads/Programs/apache-tomcat-9.0.73/webapps</span>
</span></span><span class="line"><span class="cl">$ ls
</span></span><span class="line"><span class="cl">ROOT         examples     manager      rps.war
</span></span><span class="line"><span class="cl">docs         host-manager rps
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ‰€ä»¥<code>webapp</code>å°±æ˜¯æ‰€è°“çš„æ ¹ç›®å½•, æˆ‘ä»¬è®¿é—®ä»€ä¹ˆéƒ½æ˜¯æ ¹æ®å®ƒæ¥çš„, å¯ä»¥çœ‹åˆ°, <code>webapps</code>ç›®å½•ä¸‹è¿˜æœ‰<code>examples</code>ç­‰æ–‡ä»¶å¤¹, æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç›´æ¥é€šè¿‡<code>http://localhost:8080/example/</code>è®¿é—®. ä½†æ˜¯åˆæœ‰ä¸ªé—®é¢˜, Tomcatçš„ä¸»é¡µä¹Ÿå°±æ˜¯æ˜¯<code>http://localhost:8080/</code>å…·ä½“åœ¨å“ªå‘¢? æŒ‰ç†è¯´<code>webapps</code>ä¸‹åº”è¯¥æœ‰ä¸ª<code>index.html</code>æ–‡ä»¶å‘€, å¯æ˜¯å´ç©ºç©º, è¿™æ˜¯æ€ä¹ˆå›äº‹, æ€ä¹ˆæ²¡æœ‰æŒ‰æˆ‘ä»¬ä¸Šé¢æ¨å¯¼çš„è·¯å¾„æ¥å‘¢?</p>
<p>è¿˜è®°ä¸è®°å¾—å½“æ—¶å­¦ä¹ servletçš„æ—¶å€™æœ‰ä¸ª<code>web.xml</code>æ–‡ä»¶, æˆ‘ä»¬åœ¨è¿™ä¸ªæ–‡ä»¶é‡Œå¯ä»¥é…ç½®ä¸ªwelcomeæ ‡ç­¾, é€šè¿‡è¿™ä¸ªæ ‡ç­¾æˆ‘ä»¬å°±å¯ä»¥ç›´æ¥æŒ‡å®šä¸€ä¸ªhtmlæ–‡ä»¶ä½œä¸ºæˆ‘ä»¬çš„ä¸»é¡µè€Œä¸æ˜¯æ ¹ç›®å½•ä¸‹çš„<code>index.tml</code>æ–‡ä»¶, åŒæ ·, Tomcatå½“ç„¶ä¹Ÿæœ‰è¿™ä¸ªæ–‡ä»¶ <code>TOMCAT_HOME/conf/web.xml</code>, æœç´¢<code>welcome</code>æ‰¾åˆ°å•¦(åœ¨<code>tomcat/webapps/ROOT/index.jsp</code>):</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl">  <span class="c">&lt;!-- ==================== Default Welcome File List ===================== --&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- When a request URI refers to a directory, the default servlet looks  --&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- for a &#34;welcome file&#34; within that directory and, if present, to the   --&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- corresponding resource URI for display.                              --&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- If no welcome files are present, the default servlet either serves a --&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- directory listing (see default servlet configuration on how to       --&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- customize) or returns a 404 status, depending on the value of the    --&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- listings setting.                                                    --&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!--                                                                      --&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- If you define welcome files in your own application&#39;s web.xml        --&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- deployment descriptor, that list *replaces* the list configured      --&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- here, so be sure to include any of the default values that you wish  --&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- to use within your application.                                       --&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;welcome-file-list&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;welcome-file&gt;</span>index.html<span class="nt">&lt;/welcome-file&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;welcome-file&gt;</span>index.htm<span class="nt">&lt;/welcome-file&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;welcome-file&gt;</span>index.jsp<span class="nt">&lt;/welcome-file&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/welcome-file-list&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç„¶åæ€ä¹ˆè¦†ç›–è¿™ä¸ªhome pageå‘¢? åˆšå¥½çœ‹åˆ°äº†ä¸‹é¢è¿™ä¸ªå›ç­”, çœ‹æ¥å’Œæˆ‘ä»¬çŒœæƒ³çš„ä¸€æ ·, å¦‚ä¸‹:</p>
<p>In any web application, there will be a <code>web.xml</code> in the <code>WEB-INF/</code> folder. (åˆ«å¿˜äº†æˆ‘ä»¬ä¹‹å‰å­¦ä¹ JSPçš„æ—¶å€™å¯æ²¡å°‘åœ¨è¿™ä¸ªæ–‡ä»¶å¤¹èŠ±æ—¶é—´å»é…ç½®servlet nameå’Œå¯¹åº”çš„jsp, æ¯åˆ›å»ºä¸€ä¸ªæ–°çš„servletå°±è¦åœ¨è¿™åˆ›å»ºä¸ªæ–°çš„servlet pattern)</p>
<p>If you dont have one in your web app, as it seems to be the case in your folder structure, the default <strong>Tomcat</strong> <code>web.xml</code> is under <code>TOMCAT_HOME/conf/web.xml</code></p>
<p>Either way, the relevant lines of the web.xml are</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="nt">&lt;welcome-file-list&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;welcome-file&gt;</span>index.html<span class="nt">&lt;/welcome-file&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;welcome-file&gt;</span>index.htm<span class="nt">&lt;/welcome-file&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;welcome-file&gt;</span>index.jsp<span class="nt">&lt;/welcome-file&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/welcome-file-list&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>so any file matching this pattern when found will be shown as the home page.</p>
<p>In Tomcat, a web.xml setting within your web app will override the default, if present.</p>
<p>Further Reading: <a href="http://wiki.apache.org/tomcat/HowTo#How_do_I_override_the_default_home_page_loaded_by_Tomcat.3F">How do I override the default home page loaded by Tomcat?</a></p>
<p>å‚è€ƒ:</p>
<ul>
<li><a href="https://www.theserverside.com/video/Step-by-step-Maven-Tomcat-WAR-file-deploy-example">Step-by-step Maven Tomcat WAR file deploy example | TheServerSide</a></li>
<li><a href="https://juejin.cn/post/7133755807253921829">tomcatå¯åŠ¨æˆåŠŸæµè§ˆå™¨å´æ— æ³•è®¿é—® - æ˜é‡‘</a></li>
<li><a href="https://stackoverflow.com/a/3976385/16317008">web applications - How does Tomcat find the HOME PAGE of my Web App? - Stack Overflow</a></li>
<li><a href="https://www.baeldung.com/maven-generate-war-file">Generate a WAR File in Maven | Baeldung</a></li>
</ul>

    </div>

    <div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">Author</span>
    <span class="item-content">David</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">LastMod</span>
    <span class="item-content">
        2023-04-27
        
    </span>
  </p>
  
  
</div>
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/java/">Java</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/java/backend/spring-boot-embedded-tomcat/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">Spring Bootä¹‹ä½•ä¸ºå†…åµŒTomcat</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        <a class="next" href="/post/bugs/002-bug-domain-with-two-ip/">
            <span class="next-text nav-default">å¯åŠ¨Cloudflareä»£ç†å¯¼è‡´æ— æ³•é€šè¿‡åŸŸåè§£æå‡ºAè®°å½•ä¸­çš„IP</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="mailto:shwezhu@qq.com" class="iconfont icon-email" title="email"></a>
      <a href="https://github.com/shwezhu" class="iconfont icon-github" title="github"></a>
  <a href="https://davidzhu.xyz/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2023 - 
    2024<span class="heart"><i class="iconfont icon-heart"></i></span><span>David</span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>



<script type="text/javascript" src="/js/main.min.4ae89da218555efa0e7093a20b92017d2e1202b66fff9fc2edf4cb8d44b44c6e.js"></script>








</body>
</html>
