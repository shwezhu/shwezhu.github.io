<!DOCTYPE html>
<html lang="en-us" dir="ltr">
    <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content="Web application resources or web application archives are commonly called WAR files. A WAR file is used to deploy a Java EE web application in an application server. Inside a WAR file, all the web components are packed into one single unit. These include JAR files, JavaServer Pages, Java servlets, Java class files, XML files, HTML files, and other resource files that we need for web applications. We can use the Maven WAR plugin to build our project as a WAR file.">
<title>æ‰‹åŠ¨éƒ¨ç½²WaråŒ…åˆ°Tomcatä¹‹ä½•ä¸ºWar</title>

<link rel='canonical' href='http://localhost:1313/p/%E6%89%8B%E5%8A%A8%E9%83%A8%E7%BD%B2war%E5%8C%85%E5%88%B0tomcat%E4%B9%8B%E4%BD%95%E4%B8%BAwar/'>

<link rel="stylesheet" href="/scss/style.min.8e60baf4cd3fc55968717a6e39762f4d28ed7ef6007566b6c7970ad0fe907198.css"><meta property='og:title' content="æ‰‹åŠ¨éƒ¨ç½²WaråŒ…åˆ°Tomcatä¹‹ä½•ä¸ºWar">
<meta property='og:description' content="Web application resources or web application archives are commonly called WAR files. A WAR file is used to deploy a Java EE web application in an application server. Inside a WAR file, all the web components are packed into one single unit. These include JAR files, JavaServer Pages, Java servlets, Java class files, XML files, HTML files, and other resource files that we need for web applications. We can use the Maven WAR plugin to build our project as a WAR file.">
<meta property='og:url' content='http://localhost:1313/p/%E6%89%8B%E5%8A%A8%E9%83%A8%E7%BD%B2war%E5%8C%85%E5%88%B0tomcat%E4%B9%8B%E4%BD%95%E4%B8%BAwar/'>
<meta property='og:site_name' content='David&#39;s Blogs'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='Java' /><meta property='article:published_time' content='2023-04-27T21:30:48&#43;00:00'/><meta property='article:modified_time' content='2023-04-27T21:30:48&#43;00:00'/>
<meta name="twitter:title" content="æ‰‹åŠ¨éƒ¨ç½²WaråŒ…åˆ°Tomcatä¹‹ä½•ä¸ºWar">
<meta name="twitter:description" content="Web application resources or web application archives are commonly called WAR files. A WAR file is used to deploy a Java EE web application in an application server. Inside a WAR file, all the web components are packed into one single unit. These include JAR files, JavaServer Pages, Java servlets, Java class files, XML files, HTML files, and other resource files that we need for web applications. We can use the Maven WAR plugin to build our project as a WAR file.">
    <link rel="shortcut icon" href="/favicon.png" />

  


    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="Toggle Menu">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/avatar_huc82d7b839fc53b7a5c86bd3cdfedcac6_167937_300x0_resize_box_3.png" width="300"
                            height="274" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">âœ¨</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">David&#39;s Blogs</a></h1>
            <h2 class="site-description">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</h2>
        </div>
    </header><ol class="menu-social">
            
                <li>
                    <a 
                        href='https://github.com/shwezhu'
                        target="_blank"
                        title="GitHub"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
</svg>



                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://twitter.com/hutumaomao'
                        target="_blank"
                        title="Twitter"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c-.002 -.249 1.51 -2.772 1.818 -4.013z" />
</svg>



                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>Home</span>
            </a>
        </li>
        
        
        <li >
            <a href='/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>Archives</span>
            </a>
        </li>
        
        
        <li >
            <a href='/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>Search</span>
            </a>
        </li>
        
        
        <li >
            <a href='/links/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5" />
  <path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5" />
</svg>



                
                <span>Links</span>
            </a>
        </li>
        
        <li class="menu-bottom-section">
            <ol class="menu">

                
                    <li id="dark-mode-toggle">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <span>Dark Mode</span>
                    </li>
                
            </ol>
        </li>
    </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">Table of contents</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#step-1-add-a-new-user-with-deployment-rights-to-tomcat">Step 1: Add a new user with deployment rights to Tomcat</a>
      <ol>
        <li><a href="#æ— æ³•è®¿é—®-tomcat-ä¸»é¡µé—®é¢˜">æ— æ³•è®¿é—® tomcat ä¸»é¡µé—®é¢˜</a></li>
      </ol>
    </li>
    <li><a href="#step-2-tell-maven-about-the-tomcat-deploy-user">Step 2: Tell Maven about the Tomcat deploy user</a></li>
    <li><a href="#step-3-register-the-tomcat7-maven-plugin-in-the-pom">Step 3: Register the tomcat7-maven-plugin in the POM</a></li>
    <li><a href="#final-step-verify">FInal Step: Verify</a></li>
    <li><a href="#æ€è€ƒæ€»ç»“">æ€è€ƒæ€»ç»“</a></li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


            <main class="main full-width">
    <article class="main-article">
    <header class="article-header">

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/java/" >
                Java
            </a>
        
            <a href="/categories/backend/" >
                Backend
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/p/%E6%89%8B%E5%8A%A8%E9%83%A8%E7%BD%B2war%E5%8C%85%E5%88%B0tomcat%E4%B9%8B%E4%BD%95%E4%B8%BAwar/">æ‰‹åŠ¨éƒ¨ç½²WaråŒ…åˆ°Tomcatä¹‹ä½•ä¸ºWar</a>
        </h2>
    
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Apr 27, 2023</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    6 minute read
                </time>
            </div>
        
    </footer>
    

    
</div>

</header>

    <section class="article-content">
    
    
    <p>Web application resources or web application archives are commonly called WAR files. A WAR file is used to deploy a Java EE web application in an application server. Inside a WAR file, all the web components are packed into one single unit. These include JAR files, JavaServer Pages, Java servlets, Java class files, XML files, HTML files, and other resource files that we need for web applications. We can use the Maven WAR plugin to build our project as a <a class="link" href="https://www.baeldung.com/java-jar-war-packaging#war"  target="_blank" rel="noopener"
    >WAR</a> file.</p>
<h2 id="step-1-add-a-new-user-with-deployment-rights-to-tomcat">
    <a href="#step-1-add-a-new-user-with-deployment-rights-to-tomcat">#</a>
    Step 1: Add a new user with deployment rights to Tomcat
</h2><p>To perform a Maven Tomcat deploy of a <code>WAR</code> file you must first set up a <strong>user</strong> in Tomcat with the appropriate rights. You can do this with an edit of the <code>tomcat-users.xml</code> file, which can be found in Tomcat&rsquo;s <code>conf</code> sub-directory. Add the following entry <strong>inside</strong> the <code>tomcat-users</code> tag:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="nt">&lt;user</span> <span class="na">username=</span><span class="s">&#34;war-deployer&#34;</span> <span class="na">password=</span><span class="s">&#34;maven-tomcat-plugin&#34;</span> <span class="na">roles=</span><span class="s">&#34;manager-gui, manager-script, manager-jmx&#34;</span> <span class="nt">/&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Save the tomcat-users.xml file and restart the server to have the changes take effect.</p>
<p>é‡å¯Tomcatå°±æ˜¯è¿›åˆ°Tomcatçš„<code>bin</code>ç›®å½•ä¸‹, æ‰§è¡Œ<code>startup.sh</code>, <code>./shutdown.sh</code>, å…¶å®ä½ ç›´æ¥ä½¿ç”¨<code>startup.sh</code>å‘½ä»¤å¼€å¯TomcatæœåŠ¡å°±ä¼šåŠ è½½é…ç½®æ–‡ä»¶äº†, ä¸Šé¢è¯´çš„é‡å¯æ˜¯é»˜è®¤ä½ çš„Tomcatä¸€ç›´å¤„äºè¿è¡ŒçŠ¶æ€. ç°åœ¨ä½ ä¹Ÿåº”è¯¥å¯åŠ¨TomcatæœåŠ¡äº†, å¯åŠ¨åå°è¯•è®¿é—®<code>http://localhost:8080/</code>,</p>
<p><img src="/war/d.png"
	
	
	
	loading="lazy"
	
	
></p>
<p>ç‚¹å‡»åè¾“å…¥ä¸Šé¢çš„<code>username</code>å’Œå¯¹åº”çš„<code>password</code>, å³å¯è¿›å…¥ç®¡ç†é¡µé¢å¦‚ä¸‹:</p>
<p><img src="/war/e.png"
	
	
	
	loading="lazy"
	
	
></p>
<h3 id="æ— æ³•è®¿é—®-tomcat-ä¸»é¡µé—®é¢˜">
    <a href="#%e6%97%a0%e6%b3%95%e8%ae%bf%e9%97%ae-tomcat-%e4%b8%bb%e9%a1%b5%e9%97%ae%e9%a2%98">#</a>
    æ— æ³•è®¿é—® tomcat ä¸»é¡µé—®é¢˜
</h3><p>æˆ‘åœ¨è®¿é—®Tomcatä¸»é¡µå‡ºç°äº†é—®é¢˜, è®¿é—®çš„æ€»æ˜¯æˆ‘ä»¥å‰çš„JSPåº”ç”¨, æˆ‘ç”¨IDEAå¼€å‘çš„, ä½†æˆ‘éƒ½æ²¡æ‰“å¼€IDEA, ä»ç„¶å¯ä»¥è®¿é—®åˆ°, çœŸæ˜¯å¥‡äº†æ€ªäº†, å¦‚ä¸‹:</p>
<p><img src="/war/a.png"
	
	
	
	loading="lazy"
	
	
></p>
<p>ç„¶åæˆ‘å°±<a class="link" href="https://www.cnblogs.com/yayazi/p/7920257.html"  target="_blank" rel="noopener"
    >æŸ¥åˆ°äº†ä¸€ä¸ªåšå®¢</a>è¯´éœ€è¦å°†Tomcatçš„é¦–é¡µçš„å·¥ç¨‹éƒ¨ç½²åˆ°TomcatæœåŠ¡å™¨ä¸Šï¼Œæˆ‘ä»¬é€šè¿‡IDEAæ¥æ“ä½œ, éƒ¨ç½²æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<p>é€‰æ‹©èœå•æ â€œRun&ndash;&gt;Edit Configuration&hellip;&ndash;&gt;Deploymentâ€, é€‰æ‹©å³ä¸Šè§’ç»¿è‰²â€œ+â€ï¼Œé€‰æ‹©â€œExternal Source&hellip;â€ï¼Œå°†Apache-tomcatçš„<code>webapps</code>ç›®å½•ä¸‹çš„ROOTæ–‡ä»¶å¤¹æ·»åŠ è¿›æ¥, ä¸‹é¢çš„Application Context ç©ºç€, åˆ é™¤ <code>ROOT</code> ä¸‹é¢çš„é‚£ä¸ª<code>ServletDemo:war exploded</code>, å¦‚ä¸‹å›¾:</p>
<p><img src="/war/b.png"
	
	
	
	loading="lazy"
	
	
></p>
<p>ç„¶åæˆ‘IDEAä¸Šé€‰æ‹©çš„TomcatæœåŠ¡å™¨ä¸æ˜¯æˆ‘ç°åœ¨ç”¨çš„, æˆ‘æœ‰ä¸ªæ—§çš„TomcatæœåŠ¡å™¨, æˆ‘ä¸çŸ¥é“, ç„¶åIDEAç”¨çš„ä¸€ç›´æ˜¯é‚£ä¸ªæ—§çš„(ä½†æˆ‘åœ¨ä¸Šé¢éƒ¨ç½²ä½ç½®çš„<code>ROOT</code>æ–‡ä»¶å¤¹é€‰æ‹©çš„æ˜¯æ–°çš„Tomcatä¸‹çš„æ–‡ä»¶), æ‰€ä»¥å°±å¯¼è‡´å°±ç®—éƒ¨ç½²é¡¹ç›®å, æˆ‘ä¾ç„¶æ— æ³•è®¿é—®Tomcatçš„ä¸»é¡µ. æ‰€ä»¥æ£€æŸ¥ä¸€ä¸‹ä½ æ˜¯å¦é€‰æ‹©äº†æ­£ç¡®çš„TomcatæœåŠ¡å™¨,</p>
<p><img src="/war/c.png"
	
	
	
	loading="lazy"
	
	
></p>
<p>è¿™æ ·é…ç½®å¥½åå†åœ¨IDEAç‚¹å‡»è¿è¡Œ, å°±å¯ä»¥é€šè¿‡<code>http://localhost:8080/</code>è®¿é—® Tomcat ä¸»é¡µäº†, ä¹‹åä½ å…³é—­IDEA, ç›´æ¥è¿›å…¥Tomcatæ ¹ç›®å½•çš„<code>bin</code>ä¸‹é€šè¿‡æ‰§è¡Œ<code>startup.sh</code>æ¥å¯åŠ¨Tomcat.</p>
<p>æœ‰æ—¶å€™ä½ ä¼šé‡åˆ°å…¶ä»–æƒ…å†µ, æ¯”å¦‚8080ç«¯å£è¢«å ç”¨, è¿™æ—¶å€™è§£å†³åŠæ³•ä¹Ÿå¾ˆç®€å•</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># æŸ¥çœ‹PID</span>
</span></span><span class="line"><span class="cl">lsof -n -i4TCP:8080 
</span></span><span class="line"><span class="cl"><span class="c1"># åˆ é™¤8080ç«¯å£å¯¹åº”çš„PID</span>
</span></span><span class="line"><span class="cl"><span class="nb">kill</span> -9 PID
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¯´äº†é‚£ä¹ˆå¤šç»ˆäºè¦è¿›è¡Œä¸‹ä¸€æ­¥äº†,</p>
<h2 id="step-2-tell-maven-about-the-tomcat-deploy-user">
    <a href="#step-2-tell-maven-about-the-tomcat-deploy-user">#</a>
    Step 2: Tell Maven about the Tomcat deploy user
</h2><p>After you add the <code>war-deployer</code> user to Tomcat, register that <code>username</code> and <code>password</code> in Maven, along with a named reference to the server. The Maven-Tomcat plugin will use this information when it tries to <a class="link" href="https://www.theserverside.com/feature/Is-Apache-Tomcat-the-right-Java-application-server-for-you"  target="_blank" rel="noopener"
    >connect to the application server</a>. Edit the <code>settings.xml</code> file and add the following entry <strong>within</strong> the <code>&lt;server&gt;</code> tag to create the named reference to the server:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="c">&lt;!-- Configure the Tomcat Maven plugin user --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;server&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;id&gt;</span>maven-tomcat-war-deployment-server&gt;<span class="nt">&lt;/id&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;username&gt;</span>war-deployer<span class="nt">&lt;/username&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;password&gt;</span>maven-tomcat-plugin<span class="nt">&lt;/password&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/server&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>æ³¨æ„, ä¸Šé¢æåˆ°çš„<code>settings.xml</code>æ–‡ä»¶åœ¨<code>Downloads/apache-maven-3.9.1/conf</code>ä¸‹, æ ¹æ®ä½ çš„mavenå®‰è£…ç›®å½•æŸ¥æ‰¾,</p>
<p>å¦å¤–è¿™é‡ŒåŠ çš„è´¦å·å¯†ç å°±æ˜¯ä¸Šé¢åœ¨Tomcatæ·»åŠ ç”¨æˆ·æ—¶å€™çš„è´¦å·å¯†ç , è¿™æ˜¯å› ä¸ºä½ è¿›å…¥Tomcatç®¡ç†é¡µé¢çš„æ—¶å€™éœ€è¦,å¦‚æœä½ ä¸æä¾›(ä¸‹é¢é…ç½®<code>pom.xml</code>ä¹Ÿä¼šè¯´åˆ°), é‚£ç”Ÿæˆwaræ–‡ä»¶çš„æ—¶å€™mavenå°±ä¼šæŠ¥é”™,</p>
</blockquote>
<h2 id="step-3-register-the-tomcat7-maven-plugin-in-the-pom">
    <a href="#step-3-register-the-tomcat7-maven-plugin-in-the-pom">#</a>
    Step 3: Register the tomcat7-maven-plugin in the POM
</h2><p>æŠŠæ‰“åŒ…æ ¼å¼æ”¹æˆ<code>war</code>, å³åœ¨<code>pom.xml</code>ä¸­æ‰¾åˆ°<code>&lt;packaging&gt;</code>æ ‡ç­¾, æ²¡æœ‰çš„è¯æ·»åŠ ä¸€ä¸ª, ä¸<code>&lt;dependencies&gt;</code>æ ‡ç­¾å¹¶åˆ—:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="nt">&lt;groupId&gt;</span>com.example<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;artifactId&gt;</span>ServletDemo<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;version&gt;</span>1.0-SNAPSHOT<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;name&gt;</span>ServletDemo<span class="nt">&lt;/name&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;packaging&gt;</span>war<span class="nt">&lt;/packaging&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Now that Maven and Tomcat are configured, the next step is to edit the Java web application&rsquo;s POM file to reference the Tomcat Maven plugin.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="nt">&lt;plugin&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;groupId&gt;</span>org.apache.tomcat.maven<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;artifactId&gt;</span>tomcat7-maven-plugin<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;version&gt;</span>2.0<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;configuration&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;url&gt;</span>http://localhost:8080/manager/text<span class="nt">&lt;/url&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;path&gt;</span>/rps<span class="nt">&lt;/path&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;/configuration&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/plugin&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¿è¡Œ<code>mvn install tomcat7:deploy</code>ç”Ÿæˆwarçš„æ—¶å€™æ€»æ˜¯æŠ¥é”™(å¦‚æœä½ ä¹‹å‰å·²ç»ç”Ÿæˆäº†Waræ–‡ä»¶, è¯·è®°å¾—å»Tomcatæ ¹ç›®å½•ä¸‹çš„<code>webapp</code>ç›®å½•ä¸‹åˆ é™¤ä¸€ç”Ÿæˆçš„waræ–‡ä»¶, å¦åˆ™ä¹Ÿä¼šæŠ¥é”™, å’Œä¸‹é¢ä¸€æ ·):</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="o">[</span>ERROR<span class="o">]</span> Failed to execute goal org.apache.tomcat.maven:tomcat7-maven-plugin:2.0:deploy <span class="o">(</span>default-cli<span class="o">)</span> on project ServletDemo: Cannot invoke Tomcat manager: Broken pipe -&gt; <span class="o">[</span>Help 1<span class="o">]</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>ERROR<span class="o">]</span> 
</span></span><span class="line"><span class="cl"><span class="o">[</span>ERROR<span class="o">]</span> To see the full stack trace of the errors, re-run Maven with the -e switch.
</span></span><span class="line"><span class="cl"><span class="o">[</span>ERROR<span class="o">]</span> Re-run Maven using the -X switch to <span class="nb">enable</span> full debug logging.
</span></span><span class="line"><span class="cl"><span class="o">[</span>ERROR<span class="o">]</span> 
</span></span><span class="line"><span class="cl"><span class="o">[</span>ERROR<span class="o">]</span> For more information about the errors and possible solutions, please <span class="nb">read</span> the following articles:
</span></span><span class="line"><span class="cl"><span class="o">[</span>ERROR<span class="o">]</span> <span class="o">[</span>Help 1<span class="o">]</span> http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException
</span></span></code></pre></td></tr></table>
</div>
</div><p>åŠ å…¥æˆ‘ä»¬åœ¨Tomcat Usersé‡Œé…ç½®çš„è´¦å·å¯†ç :</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="nt">&lt;plugin&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;groupId&gt;</span>org.apache.tomcat.maven<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;artifactId&gt;</span>tomcat7-maven-plugin<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;version&gt;</span>2.0<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;configuration&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;url&gt;</span>http://localhost:8080/manager/text<span class="nt">&lt;/url&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;path&gt;</span>/rps<span class="nt">&lt;/path&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;username&gt;</span>war-deployer<span class="nt">&lt;/username&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;password&gt;</span>maven-tomcat-plugin<span class="nt">&lt;/password&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;/configuration&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/plugin&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>æ³¨æ„: ä¿®æ”¹<code>pom.xml</code>åéœ€è¦æ›´æ–°<code>pom.xml</code></p>
<p>æç¤º: ç‚¹å‡»IDEAè½¯ä»¶çš„å³ä¸Šè§’æœ‰ä¸ªæµ®åŠ¨çš„æ›´æ–°å°æŒ‰é’®å³æ›´æ–°, æˆ–è€…ä½ å¯ä»¥æŸ¥æŸ¥å‘½ä»¤è¡Œmavenæ€ä¹ˆæ›´æ–°<code>pom.xml</code>æ–‡ä»¶.</p>
</blockquote>
<p>ç„¶åé‡æ–°è¿è¡Œ<code>mvn install tomcat7:deploy</code>, æˆåŠŸ:</p>
<p><img src="/war/f.png"
	
	
	
	loading="lazy"
	
	
></p>
<p>ç„¶åå»Tomcatæ ¹ç›®å½•çš„<code>webapps</code>ä¸‹æŸ¥çœ‹ç”Ÿæˆçš„War, å¯ä»¥çœ‹åˆ°ç”Ÿæˆäº†åä¸º<code>rps</code>çš„webåº”ç”¨, å³è¿™ä¸ªåå­—å–å†³äºä¸Šé¢<code>pom.xml</code>å¡«çš„å†…å®¹,</p>
<p><img src="/war/g.png"
	
	
	
	loading="lazy"
	
	
></p>
<p>ç„¶åæˆ‘ä»¬å¯¹æ¯”ä¸€ä¸‹ç”Ÿæˆçš„warä¸æˆ‘ä»¬çš„æºä»£ç æ–‡ä»¶ç»“æ„:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1">#æºä»£ç </span>
</span></span><span class="line"><span class="cl">.
</span></span><span class="line"><span class="cl">â”œâ”€â”€ pom.xml
</span></span><span class="line"><span class="cl">â”œâ”€â”€ src
</span></span><span class="line"><span class="cl">â”‚Â Â  â””â”€â”€ main
</span></span><span class="line"><span class="cl">â”‚Â Â      â”œâ”€â”€ java
</span></span><span class="line"><span class="cl">â”‚Â Â      â”‚Â Â  â”œâ”€â”€ database
</span></span><span class="line"><span class="cl">â”‚Â Â      â”‚Â Â  â””â”€â”€ servlet
</span></span><span class="line"><span class="cl">â”‚Â Â      â”œâ”€â”€ resources
</span></span><span class="line"><span class="cl">â”‚Â Â      â”‚Â Â  â””â”€â”€ log4j.properties
</span></span><span class="line"><span class="cl">â”‚Â Â      â””â”€â”€ webapp
</span></span><span class="line"><span class="cl">â”‚Â Â          â”œâ”€â”€ WEB-INF
</span></span><span class="line"><span class="cl">â”‚Â Â          â”œâ”€â”€ hello.jsp
</span></span><span class="line"><span class="cl">â”‚Â Â          â””â”€â”€ index.jsp
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># War</span>
</span></span><span class="line"><span class="cl">.
</span></span><span class="line"><span class="cl">â”œâ”€â”€ META-INF
</span></span><span class="line"><span class="cl">â”‚Â Â  â”œâ”€â”€ MANIFEST.MF
</span></span><span class="line"><span class="cl">â”‚Â Â  â”œâ”€â”€ maven
</span></span><span class="line"><span class="cl">â”‚Â Â  â”‚Â Â  â””â”€â”€ com.example
</span></span><span class="line"><span class="cl">â”‚Â Â  â”‚Â Â      â””â”€â”€ ServletDemo
</span></span><span class="line"><span class="cl">â”‚Â Â  â””â”€â”€ war-tracker
</span></span><span class="line"><span class="cl">â”œâ”€â”€ WEB-INF
</span></span><span class="line"><span class="cl">â”‚Â Â  â”œâ”€â”€ classes
</span></span><span class="line"><span class="cl">â”‚Â Â  â”‚Â Â  â”œâ”€â”€ database
</span></span><span class="line"><span class="cl">â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Controller.class
</span></span><span class="line"><span class="cl">â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ DataEntity.class
</span></span><span class="line"><span class="cl">â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Database.class
</span></span><span class="line"><span class="cl">â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ MysqlDatabase.class
</span></span><span class="line"><span class="cl">â”‚Â Â  â”‚Â Â  â”œâ”€â”€ log4j.properties
</span></span><span class="line"><span class="cl">â”‚Â Â  â”‚Â Â  â”œâ”€â”€ servlet
</span></span><span class="line"><span class="cl">â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ GetDataServlet<span class="nv">$1</span>.class
</span></span><span class="line"><span class="cl">â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ GetDataServlet.class
</span></span><span class="line"><span class="cl">â”‚Â Â  â”‚Â Â  â””â”€â”€ <span class="nb">test</span>
</span></span><span class="line"><span class="cl">â”‚Â Â  â”œâ”€â”€ lib
</span></span><span class="line"><span class="cl">â”‚Â Â  â”‚Â Â  â”œâ”€â”€ gson-2.9.0.jar
</span></span><span class="line"><span class="cl">â”‚Â Â  â”‚Â Â  â”œâ”€â”€ log4j-1.2.17.jar
</span></span><span class="line"><span class="cl">â”‚Â Â  â”‚Â Â  â”œâ”€â”€ mysql-connector-j-8.0.32.jar
</span></span><span class="line"><span class="cl">â”‚Â Â  â”‚Â Â  â””â”€â”€ protobuf-java-3.21.9.jar
</span></span><span class="line"><span class="cl">â”‚Â Â  â””â”€â”€ web.xml
</span></span><span class="line"><span class="cl">â”œâ”€â”€ hello.jsp
</span></span><span class="line"><span class="cl">â””â”€â”€ index.jsp
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¯¹äºç”Ÿæˆçš„Waræ–‡ä»¶å¯ä»¥å‘ç°æ‰€æœ‰Javaç›¸å…³çš„æ–‡ä»¶éƒ½åœ¨<code>WEB-INF</code>ä¸‹, æ¯”å¦‚æˆ‘ä»¬ç¼–å†™çš„Servletå­—èŠ‚ç æ–‡ä»¶å’Œå’Œæˆ‘ä»¬ç”¨åˆ°çš„ä¾èµ–(gson, mysql connector, log4j). ç„¶åä»”ç»†çœ‹æºä»£ç æ–‡ä»¶ç»“æ„, åœ¨<code>webapp</code>ä¸‹ä¹Ÿæœ‰ä¸ª<code>WEB-INF</code>, è¿™ä¸‹é¢æ”¾çš„å°±æ˜¯æˆ‘ä»¬é¡¹ç›®çš„<code>web.xml</code>, å†…å®¹å¦‚ä¸‹(æ‰€ä»¥è¿™æœ‰ä»€ä¹ˆè”ç³»å‘¢),</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="cp">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;web-app</span> <span class="na">xmlns=</span><span class="s">&#34;http://xmlns.jcp.org/xml/ns/javaee&#34;</span>
</span></span><span class="line"><span class="cl">         <span class="na">xmlns:xsi=</span><span class="s">&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span>
</span></span><span class="line"><span class="cl">         <span class="na">xsi:schemaLocation=</span><span class="s">&#34;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&#34;</span>
</span></span><span class="line"><span class="cl">         <span class="na">version=</span><span class="s">&#34;4.0&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;welcome-file-list&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;welcome-file&gt;</span>/index.jsp<span class="nt">&lt;/welcome-file&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/welcome-file-list&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;servlet&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;servlet-name&gt;</span>get-data<span class="nt">&lt;/servlet-name&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;servlet-class&gt;</span>servlet.GetDataServlet<span class="nt">&lt;/servlet-class&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/servlet&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;servlet-mapping&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;servlet-name&gt;</span>get-data<span class="nt">&lt;/servlet-name&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;url-pattern&gt;</span>/temperature/*<span class="nt">&lt;/url-pattern&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;url-pattern&gt;</span>/humidity/*<span class="nt">&lt;/url-pattern&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/servlet-mapping&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/web-app&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="final-step-verify">
    <a href="#final-step-verify">#</a>
    FInal Step: Verify
</h2><p>ç¡®ä¿ä½ å·²ç»å¼€å¯TomcatæœåŠ¡(å³ä½¿ä½ å…³é—­äº†IDEA, IDEAå’ŒTomcatæ˜¯ä¸¤ä¸ªä¸œè¥¿, IDEAæ˜¯ä¸ªIDEä¼šç”¨åˆ°Tomcatä½œä¸ºwebæœåŠ¡å™¨æ¥éƒ¨ç½²web app), ç„¶åè®¿é—®é€šè¿‡<code>http://localhost:8080/</code>è®¿é—®åˆ°Tomcatä¸»é¡µ, è¿™æ—¶å€™ä½ å¯ä»¥åœ¨é“¾æ¥ğŸ”—ååŠ ä¸Š<code>/rps</code>å³<code>http://localhost:8080/rps/</code>å°±å¯ä»¥è¿›å…¥åˆ°ä½ çš„é‚£ä¸ªwebç½‘é¡µ, å¦‚ä¸‹:</p>
<p><img src="/war/h.png"
	
	
	
	loading="lazy"
	
	
></p>
<h2 id="æ€è€ƒæ€»ç»“">
    <a href="#%e6%80%9d%e8%80%83%e6%80%bb%e7%bb%93">#</a>
    æ€è€ƒæ€»ç»“
</h2><p>è¿™æ—¶å€™å…¶å®æˆ‘ä»¬ä¹Ÿå°±çŸ¥é“äº†ä»€ä¹ˆæ˜¯æ ¹ç›®å½•å’Œurlä¸­ç¥ç§˜çš„è·¯å¾„é—®é¢˜, ä½ çœ‹æˆ‘ä»¬è‹¥æƒ³è®¿é—®<code>manager</code>é¡µé¢, è¿™ä¸ªé¡µé¢çš„urlæ˜¯<code>http://localhost:8080/manager/</code>, æˆ‘ä»¬è®¿é—®æˆ‘ä»¬åˆšéƒ¨ç½²çš„é¡µé¢æ˜¯<code>http://localhost:8080/rps/</code>, ä½ çœ‹æœ€åçš„è¿™ä¸ªè·¯å¾„åŠ<code>/manager</code>, <code>/rps</code>éƒ½æ˜¯tomcatçš„<code>webapps</code>ç›®å½•ä¸‹çš„æ–‡ä»¶, å¦‚ä¸‹:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># David @ tc0db in ~/Downloads/Programs/apache-tomcat-9.0.73/webapps</span>
</span></span><span class="line"><span class="cl">$ ls
</span></span><span class="line"><span class="cl">ROOT         examples     manager      rps.war
</span></span><span class="line"><span class="cl">docs         host-manager rps
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ‰€ä»¥<code>webapp</code>å°±æ˜¯æ‰€è°“çš„æ ¹ç›®å½•, æˆ‘ä»¬è®¿é—®ä»€ä¹ˆéƒ½æ˜¯æ ¹æ®å®ƒæ¥çš„, å¯ä»¥çœ‹åˆ°, <code>webapps</code>ç›®å½•ä¸‹è¿˜æœ‰<code>examples</code>ç­‰æ–‡ä»¶å¤¹, æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç›´æ¥é€šè¿‡<code>http://localhost:8080/example/</code>è®¿é—®. ä½†æ˜¯åˆæœ‰ä¸ªé—®é¢˜, Tomcatçš„ä¸»é¡µä¹Ÿå°±æ˜¯æ˜¯<code>http://localhost:8080/</code>å…·ä½“åœ¨å“ªå‘¢? æŒ‰ç†è¯´<code>webapps</code>ä¸‹åº”è¯¥æœ‰ä¸ª<code>index.html</code>æ–‡ä»¶å‘€, å¯æ˜¯å´ç©ºç©º, è¿™æ˜¯æ€ä¹ˆå›äº‹, æ€ä¹ˆæ²¡æœ‰æŒ‰æˆ‘ä»¬ä¸Šé¢æ¨å¯¼çš„è·¯å¾„æ¥å‘¢?</p>
<p>è¿˜è®°ä¸è®°å¾—å½“æ—¶å­¦ä¹ servletçš„æ—¶å€™æœ‰ä¸ª<code>web.xml</code>æ–‡ä»¶, æˆ‘ä»¬åœ¨è¿™ä¸ªæ–‡ä»¶é‡Œå¯ä»¥é…ç½®ä¸ªwelcomeæ ‡ç­¾, é€šè¿‡è¿™ä¸ªæ ‡ç­¾æˆ‘ä»¬å°±å¯ä»¥ç›´æ¥æŒ‡å®šä¸€ä¸ªhtmlæ–‡ä»¶ä½œä¸ºæˆ‘ä»¬çš„ä¸»é¡µè€Œä¸æ˜¯æ ¹ç›®å½•ä¸‹çš„<code>index.tml</code>æ–‡ä»¶, åŒæ ·, Tomcatå½“ç„¶ä¹Ÿæœ‰è¿™ä¸ªæ–‡ä»¶ <code>TOMCAT_HOME/conf/web.xml</code>, æœç´¢<code>welcome</code>æ‰¾åˆ°å•¦(åœ¨<code>tomcat/webapps/ROOT/index.jsp</code>):</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl">  <span class="c">&lt;!-- ==================== Default Welcome File List ===================== --&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- When a request URI refers to a directory, the default servlet looks  --&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- for a &#34;welcome file&#34; within that directory and, if present, to the   --&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- corresponding resource URI for display.                              --&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- If no welcome files are present, the default servlet either serves a --&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- directory listing (see default servlet configuration on how to       --&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- customize) or returns a 404 status, depending on the value of the    --&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- listings setting.                                                    --&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!--                                                                      --&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- If you define welcome files in your own application&#39;s web.xml        --&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- deployment descriptor, that list *replaces* the list configured      --&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- here, so be sure to include any of the default values that you wish  --&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- to use within your application.                                       --&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;welcome-file-list&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;welcome-file&gt;</span>index.html<span class="nt">&lt;/welcome-file&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;welcome-file&gt;</span>index.htm<span class="nt">&lt;/welcome-file&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;welcome-file&gt;</span>index.jsp<span class="nt">&lt;/welcome-file&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/welcome-file-list&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç„¶åæ€ä¹ˆè¦†ç›–è¿™ä¸ªhome pageå‘¢? åˆšå¥½çœ‹åˆ°äº†ä¸‹é¢è¿™ä¸ªå›ç­”, çœ‹æ¥å’Œæˆ‘ä»¬çŒœæƒ³çš„ä¸€æ ·, å¦‚ä¸‹:</p>
<p>In any web application, there will be a <code>web.xml</code> in the <code>WEB-INF/</code> folder. (åˆ«å¿˜äº†æˆ‘ä»¬ä¹‹å‰å­¦ä¹ JSPçš„æ—¶å€™å¯æ²¡å°‘åœ¨è¿™ä¸ªæ–‡ä»¶å¤¹èŠ±æ—¶é—´å»é…ç½®servlet nameå’Œå¯¹åº”çš„jsp, æ¯åˆ›å»ºä¸€ä¸ªæ–°çš„servletå°±è¦åœ¨è¿™åˆ›å»ºä¸ªæ–°çš„servlet pattern)</p>
<p>If you dont have one in your web app, as it seems to be the case in your folder structure, the default <strong>Tomcat</strong> <code>web.xml</code> is under <code>TOMCAT_HOME/conf/web.xml</code></p>
<p>Either way, the relevant lines of the web.xml are</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="nt">&lt;welcome-file-list&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;welcome-file&gt;</span>index.html<span class="nt">&lt;/welcome-file&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;welcome-file&gt;</span>index.htm<span class="nt">&lt;/welcome-file&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;welcome-file&gt;</span>index.jsp<span class="nt">&lt;/welcome-file&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/welcome-file-list&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>so any file matching this pattern when found will be shown as the home page.</p>
<p>In Tomcat, a web.xml setting within your web app will override the default, if present.</p>
<p>Further Reading: <a class="link" href="http://wiki.apache.org/tomcat/HowTo#How_do_I_override_the_default_home_page_loaded_by_Tomcat.3F"  target="_blank" rel="noopener"
    >How do I override the default home page loaded by Tomcat?</a></p>
<p>å‚è€ƒ:</p>
<ul>
<li><a class="link" href="https://www.theserverside.com/video/Step-by-step-Maven-Tomcat-WAR-file-deploy-example"  target="_blank" rel="noopener"
    >Step-by-step Maven Tomcat WAR file deploy example | TheServerSide</a></li>
<li><a class="link" href="https://juejin.cn/post/7133755807253921829"  target="_blank" rel="noopener"
    >tomcatå¯åŠ¨æˆåŠŸæµè§ˆå™¨å´æ— æ³•è®¿é—® - æ˜é‡‘</a></li>
<li><a class="link" href="https://stackoverflow.com/a/3976385/16317008"  target="_blank" rel="noopener"
    >web applications - How does Tomcat find the HOME PAGE of my Web App? - Stack Overflow</a></li>
<li><a class="link" href="https://www.baeldung.com/maven-generate-war-file"  target="_blank" rel="noopener"
    >Generate a WAR File in Maven | Baeldung</a></li>
</ul>

</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/tags/java/">Java</a>
        
    </section>


    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    </footer>


    
</article>

    

    

<aside class="related-content--wrapper">
    <h2 class="section-title">Related content</h2>
    <div class="related-content">
        <div class="flex article-list--tile">
            
                
<article class="">
    <a href="/p/csrf-filter-providermanager-authenticationproviders-spring%E5%AD%A6%E4%B9%A0%E4%B8%83/">
        
        

        <div class="article-details">
            <h2 class="article-title">CSRF Filter &amp; ProviderManager &amp; AuthenticationProviders, Springå­¦ä¹ (ä¸ƒ)</h2>
        </div>
    </a>
</article>

            
                
<article class="">
    <a href="/p/spring-security-filter-chian-%E8%87%AA%E5%AE%9A%E4%B9%89-robotfilter-spring%E5%AD%A6%E4%B9%A0%E5%85%AD/">
        
        

        <div class="article-details">
            <h2 class="article-title">Spring Security Filter Chian è‡ªå®šä¹‰ RobotFilter, Springå­¦ä¹ (å…­)</h2>
        </div>
    </a>
</article>

            
                
<article class="">
    <a href="/p/spring-security-authentication-spring%E5%AD%A6%E4%B9%A0%E4%BA%94/">
        
        

        <div class="article-details">
            <h2 class="article-title">Spring Security Authentication, Springå­¦ä¹ (äº”)</h2>
        </div>
    </a>
</article>

            
                
<article class="">
    <a href="/p/thymeleaf-spring%E5%AD%A6%E4%B9%A0%E5%9B%9B/">
        
        

        <div class="article-details">
            <h2 class="article-title">Thymeleaf, Springå­¦ä¹ (å››)</h2>
        </div>
    </a>
</article>

            
                
<article class="">
    <a href="/p/orm-vs-jpa-vs-hibernate-jdbc-vs-mysql-driver-spring%E5%AD%A6%E4%B9%A0%E4%B8%89/">
        
        

        <div class="article-details">
            <h2 class="article-title">ORM vs JPA vs Hibernate &amp; JDBC vs MySQL Driver, Springå­¦ä¹ (ä¸‰)</h2>
        </div>
    </a>
</article>

            
        </div>
    </div>
</aside>

     
    
        
    <div class="disqus-container">
    <div id="disqus_thread"></div>
<script>
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "hugo-theme-stack" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>

<style>
    .disqus-container {
        background-color: var(--card-background);
        border-radius: var(--card-border-radius);
        box-shadow: var(--shadow-l1);
        padding: var(--card-padding);
    }
</style>

<script>
    window.addEventListener('onColorSchemeChange', (e) => {
        if (typeof DISQUS == 'object') {
            DISQUS.reset({
                reload: true
            });
        }
    })
</script>

    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2020 - 
        
        2024 David&#39;s Blogs
    </section>
    
    <section class="powerby">
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        Theme <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.25.0">Stack</a></b> designed by <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a>
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
