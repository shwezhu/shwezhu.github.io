<!DOCTYPE html>
<html lang="en-us" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content=" # 1. Hosting your domain on Cloudflare (Enable CDN) 1 client &lt;----tls-1----&gt; cloudflare &lt;----tls-2----&gt; your server Note: You cannot login your server with ssh user@your_domain any more after enabling Cloudflare. You need to login with ssh user@your_ip. Cause the Cloudflare acts as a reverse proxy, it only forwards the http/https traffic to your server, and only on some specific ports.\nThere are two steps to add your domain to Cloudflare:\n">
<title>Get Free TLS certificate with Cloudflare</title>

<link rel='canonical' href='https://blog.yorforger.cc/p/get-free-tls-certificate-with-cloudflare/'>

<link rel="stylesheet" href="/scss/style.min.8e60baf4cd3fc55968717a6e39762f4d28ed7ef6007566b6c7970ad0fe907198.css"><meta property='og:title' content="Get Free TLS certificate with Cloudflare">
<meta property='og:description' content=" # 1. Hosting your domain on Cloudflare (Enable CDN) 1 client &lt;----tls-1----&gt; cloudflare &lt;----tls-2----&gt; your server Note: You cannot login your server with ssh user@your_domain any more after enabling Cloudflare. You need to login with ssh user@your_ip. Cause the Cloudflare acts as a reverse proxy, it only forwards the http/https traffic to your server, and only on some specific ports.\nThere are two steps to add your domain to Cloudflare:\n">
<meta property='og:url' content='https://blog.yorforger.cc/p/get-free-tls-certificate-with-cloudflare/'>
<meta property='og:site_name' content='David&#39;s Blogs'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='build website' /><meta property='article:published_time' content='2023-11-15T20:09:22&#43;00:00'/><meta property='article:modified_time' content='2023-11-15T20:09:22&#43;00:00'/>
<meta name="twitter:title" content="Get Free TLS certificate with Cloudflare">
<meta name="twitter:description" content=" # 1. Hosting your domain on Cloudflare (Enable CDN) 1 client &lt;----tls-1----&gt; cloudflare &lt;----tls-2----&gt; your server Note: You cannot login your server with ssh user@your_domain any more after enabling Cloudflare. You need to login with ssh user@your_ip. Cause the Cloudflare acts as a reverse proxy, it only forwards the http/https traffic to your server, and only on some specific ports.\nThere are two steps to add your domain to Cloudflare:\n">
    <link rel="shortcut icon" href="/favicon.png" />

    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="Toggle Menu">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/avatar_hu13008327664198534168.png" width="300"
                            height="274" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">✨</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">David&#39;s Blogs</a></h1>
            <h2 class="site-description">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</h2>
        </div>
    </header><ol class="menu-social">
            
                <li>
                    <a 
                        href='https://github.com/shwezhu'
                        target="_blank"
                        title="GitHub"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
</svg>



                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://twitter.com/hutumaomao'
                        target="_blank"
                        title="Twitter"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c-.002 -.249 1.51 -2.772 1.818 -4.013z" />
</svg>



                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>Home</span>
            </a>
        </li>
        
        
        <li >
            <a href='/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>Archives</span>
            </a>
        </li>
        
        
        <li >
            <a href='/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>Search</span>
            </a>
        </li>
        
        
        <li >
            <a href='/links/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5" />
  <path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5" />
</svg>



                
                <span>Links</span>
            </a>
        </li>
        
        <li class="menu-bottom-section">
            <ol class="menu">

                
                    <li id="dark-mode-toggle">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <span>Dark Mode</span>
                    </li>
                
            </ol>
        </li>
    </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">Table of contents</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#1-hosting-your-domain-on-cloudflare-enable-cdn">1. Hosting your domain on Cloudflare (Enable CDN)</a>
      <ol>
        <li><a href="#11-add-your-domain-to-cloudflare">1.1. Add your domain to Cloudflare</a></li>
        <li><a href="#12-install-tls-certificate">1.2. Install TLS certificate</a></li>
      </ol>
    </li>
    <li><a href="#2-change-a-record">2. Change A record</a></li>
    <li><a href="#3-allow-custom-port">3. Allow custom port</a></li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


            <main class="main full-width">
    <article class="main-article">
    <header class="article-header">

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/build-website/" >
                Build Website
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/p/get-free-tls-certificate-with-cloudflare/">Get Free TLS certificate with Cloudflare</a>
        </h2>
    
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Nov 15, 2023</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    4 minute read
                </time>
            </div>
        
    </footer>
    

    
</div>

</header>

    <section class="article-content">
    
    
    <h2 id="1-hosting-your-domain-on-cloudflare-enable-cdn">
    <a href="#1-hosting-your-domain-on-cloudflare-enable-cdn">#</a>
    1. Hosting your domain on Cloudflare (Enable CDN)
</h2><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">client &lt;----tls-1----&gt; cloudflare &lt;----tls-2----&gt; your server
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p><strong>Note:</strong> You cannot login your server with <code>ssh user@your_domain</code> any more after enabling Cloudflare. You need to login with <code>ssh user@your_ip</code>. Cause the Cloudflare acts as a reverse proxy, it only forwards the http/https traffic to your server, and <a class="link" href="https://developers.cloudflare.com/fundamentals/reference/network-ports/"  target="_blank" rel="noopener"
    >only on some specific ports</a>.</p>
</blockquote>
<p>There are two steps to add your domain to Cloudflare:</p>
<ul>
<li>Add your domain to Cloudflare</li>
<li>Create and install TLS certificate to your server</li>
</ul>
<blockquote>
<p>Cloudflare does this by serving as a <a class="link" href="https://www.cloudflare.com/learning/cdn/glossary/reverse-proxy/"  target="_blank" rel="noopener"
    >reverse proxy</a> for your web traffic. Actually, Clooudflare achieves this by using its CDN service, which caches your website&rsquo;s static content and serves it to your visitors from the nearest Cloudflare data center.
Refer to our Load Balancing reference architecture to learn more about advanced ways to forward traffic to your origins, as well as our <a class="link" href="https://developers.cloudflare.com/reference-architecture/architectures/cdn/"  target="_blank" rel="noopener"
    >CDN reference architecture</a> to learn more about how Cloudflare processes and optimizes your web traffic.</p>
</blockquote>
<h3 id="11-add-your-domain-to-cloudflare">
    <a href="#11-add-your-domain-to-cloudflare">#</a>
    1.1. Add your domain to Cloudflare
</h3><p>Go to this website: <a class="link" href="https://dash.cloudflare.com/"  target="_blank" rel="noopener"
    >https://dash.cloudflare.com/</a></p>
<p><img src="https://pub-2a6758f3b2d64ef5bb71ba1601101d35.r2.dev/blogs/2024/08/5ec8185791f488d73320ceadd0db79dc.png"
	
	
	
	loading="lazy"
	
	
></p>
<p>And you will get instructions for updating your nameserver of your domain. After change your nameserver, waite about one hour, your site will be <strong>active</strong> on Cloudflare. Then you can choose the TLS encryption mode:</p>
<p><img src="https://pub-2a6758f3b2d64ef5bb71ba1601101d35.r2.dev/blogs/2024/08/3ff225afee4374761c3943c1c6ed009a.png"
	
	
	
	loading="lazy"
	
	
></p>
<blockquote>
<p><strong>Note:</strong> choose <code>full mode</code>, don&rsquo;t use <code>flexbile mode</code>, otherwise you <strong>probably would</strong> get <a class="link" href="https://developers.cloudflare.com/ssl/troubleshooting/too-many-redirects/"  target="_blank" rel="noopener"
    >ERR_TOO_MANY_REDIRECTS</a> when access your website.</p>
</blockquote>
<h3 id="12-install-tls-certificate">
    <a href="#12-install-tls-certificate">#</a>
    1.2. Install TLS certificate
</h3><p><img src="https://pub-2a6758f3b2d64ef5bb71ba1601101d35.r2.dev/blogs/2024/08/d3d8aa4e52defcc7961fe8fad4d3eb88.png"
	
	
	
	loading="lazy"
	
	
></p>
<p>The generated two files <code>cert.pem</code> and <code>cert.key</code> is used for encryption between your server and Cloudflare.</p>
<p>You can use these two file like this:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="o">...</span> 
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">http</span><span class="p">.</span><span class="nf">HandleFunc</span><span class="p">(</span><span class="s">&#34;/hello&#34;</span><span class="p">,</span> <span class="nx">HelloServer</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nx">err</span> <span class="o">:=</span> <span class="nx">http</span><span class="p">.</span><span class="nf">ListenAndServeTLS</span><span class="p">(</span><span class="s">&#34;:443&#34;</span><span class="p">,</span> <span class="s">&#34;./conf/cert.pem&#34;</span><span class="p">,</span> <span class="s">&#34;./conf/cert.key&#34;</span><span class="p">,</span> <span class="kc">nil</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">log</span><span class="p">.</span><span class="nf">Fatal</span><span class="p">(</span><span class="s">&#34;ListenAndServe: &#34;</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p><strong>Note</strong>: don&rsquo;t add the keep-alive header when handle request on your server, otherwise you may get a 520 error when you access your website on browser: <code>Error 520: Web server is returning an unknown error</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">w</span><span class="p">.</span><span class="nf">Header</span><span class="p">().</span><span class="nf">Set</span><span class="p">(</span><span class="s">&#34;Connection&#34;</span><span class="p">,</span> <span class="s">&#34;Keep-Alive&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nx">w</span><span class="p">.</span><span class="nf">Header</span><span class="p">().</span><span class="nf">Set</span><span class="p">(</span><span class="s">&#34;Keep-Alive&#34;</span><span class="p">,</span> <span class="s">&#34;timeout=2, max=1000&#34;</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div></blockquote>
<p>Learn more: <a class="link" href="https://luyuhuang.tech/2020/06/03/cloudflare-free-https.html"  target="_blank" rel="noopener"
    >https://luyuhuang.tech/2020/06/03/cloudflare-free-https.html</a></p>
<blockquote>
<p>After config this, the DNS needs time to take effect (you change the nameservers of your domain to Cloudfalre from the defatult nameservers, this needs time to take effect)</p>
<p>If there still no HTTPS connection but the cloudflare displays your website <strong>is active</strong> on their service, you may try to check if your server is listening on 443 port and try to flush the DNS cache of your client computer (chrome + system DNS cache). Learn more: <a class="link" href="https://davidzhu.xyz/post/networking/002-dns-basics/"  target="_blank" rel="noopener"
    >DNS Concepts (NameServer(NS), DNS Records and Caching) - David&rsquo;s Blog</a></p>
</blockquote>
<p>BTW, you can check if your domain is proxied by the Cloudflare with nslookup command, which will get the <code>A Record</code> by default (IPv4) address of your domain, but in this case, with Cloudfalre proxy, you should get the ip of Cloudfalre Name Server.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">❯ nslookup shaowenzhu.top
</span></span><span class="line"><span class="cl">Non-authoritative answer:
</span></span><span class="line"><span class="cl">Name:	shaowenzhu.top
</span></span><span class="line"><span class="cl">Address: 172.67.171.207 <span class="c1"># not my domain&#39;s real ip, it&#39;s Cloudfalre</span>
</span></span><span class="line"><span class="cl">Name:	shaowenzhu.top
</span></span><span class="line"><span class="cl">Address: 104.21.47.185 <span class="c1"># not my domain&#39;s real ip, it&#39;s Cloudfalre</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Learn more: <a class="link" href="https://developers.cloudflare.com/fundamentals/setup/account-setup/add-site/"  target="_blank" rel="noopener"
    >Add a site · Cloudflare Fundamentals docs</a></p>
<h2 id="2-change-a-record">
    <a href="#2-change-a-record">#</a>
    2. Change A record
</h2><p>If you changed a vps, all you need to do is to change the A record of your domain on Cloudflare, you don&rsquo;t need to change the A record on your domain register website.</p>
<blockquote>
<p>Cloudflare serves as a <strong>reverse proxy</strong>, directing all traffic for the specified proxied domain to the target IP address.</p>
</blockquote>
<p><img src="https://pub-2a6758f3b2d64ef5bb71ba1601101d35.r2.dev/blogs/2024/08/af17da33f67f363301b8d14cf87428ea.png"
	
	
	
	loading="lazy"
	
	
></p>
<h2 id="3-allow-custom-port">
    <a href="#3-allow-custom-port">#</a>
    3. Allow custom port
</h2><p>The default port of https is 443. If you want to use other ports, you need to allow them with firewall first on your server.</p>
<p>Cloudflare only allows the following <strong>HTTPS</strong> ports:</p>
<p>443
2053
2083
2087
2096
8443</p>
<p>Very easy, you don&rsquo;t need to do anything on Cloudflare, just allow the port on your server. Then you can access your website with <code>https://your_domain:port</code>. And your traffic will be encrypted by Cloudflare.</p>
<p>Learn more:</p>
<p><a class="link" href="https://community.cloudflare.com/t/how-to-allow-custom-port/175855"  target="_blank" rel="noopener"
    >How to allow custom port - Website, Application, Performance / Security - Cloudflare Community</a></p>
<p><a class="link" href="https://developers.cloudflare.com/fundamentals/reference/network-ports/"  target="_blank" rel="noopener"
    >Network ports · Cloudflare Fundamentals docs</a></p>
<p>Learn more about CDN:</p>
<p><a class="link" href="https://www.cloudflare.com/learning/cdn/what-is-a-cdn/"  target="_blank" rel="noopener"
    >What is a content delivery network (CDN)? | How do CDNs work? | Cloudflare</a></p>
<p><a class="link" href="https://developers.cloudflare.com/reference-architecture/architectures/cdn/"  target="_blank" rel="noopener"
    >Reference Architecture: Cloudflare Content Delivery Network (CDN) · Cloudflare Reference Architecture docs</a></p>

</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/tags/build-website/">Build Website</a>
        
    </section>


    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    </footer>


    
</article>

    

    

<aside class="related-content--wrapper">
    <h2 class="section-title">Related content</h2>
    <div class="related-content">
        <div class="flex article-list--tile">
            
                
<article class="">
    <a href="/p/cname-%E6%8C%87%E5%90%91-github-pages-%E9%97%AE%E9%A2%98/">
        
        

        <div class="article-details">
            <h2 class="article-title">CNAME 指向 GitHub Pages 问题</h2>
        </div>
    </a>
</article>

            
                
<article class="">
    <a href="/p/dns-%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/">
        
        

        <div class="article-details">
            <h2 class="article-title">DNS 基础概念</h2>
        </div>
    </a>
</article>

            
                
<article class="">
    <a href="/p/cloudflare-r2/">
        
        

        <div class="article-details">
            <h2 class="article-title">Cloudflare R2</h2>
        </div>
    </a>
</article>

            
                
<article class="">
    <a href="/p/wget-connecting-timeout-issue/">
        
        

        <div class="article-details">
            <h2 class="article-title">Wget Connecting Timeout Issue</h2>
        </div>
    </a>
</article>

            
                
<article class="">
    <a href="/p/nginx/">
        
        

        <div class="article-details">
            <h2 class="article-title">Nginx</h2>
        </div>
    </a>
</article>

            
        </div>
    </div>
</aside>

     
    
        
    <script src="https://utteranc.es/client.js" 
        repo="shwezhu/shwezhu.github.io"
        issue-term="pathname"
        
        crossorigin="anonymous"
        async
        >
</script>

<style>
    .utterances {
        max-width: unset;
    }
</style>

<script>
    let utterancesLoaded = false;

    function setUtterancesTheme(theme) {
        let utterances = document.querySelector('.utterances iframe');
        if (utterances) {
            utterances.contentWindow.postMessage(
                {
                    type: 'set-theme',
                    theme: `github-${theme}`
                },
                'https://utteranc.es'
            );
        }
    }

    addEventListener('message', event => {
        if (event.origin !== 'https://utteranc.es') return;

        
        utterancesLoaded = true;
        setUtterancesTheme(document.documentElement.dataset.scheme)
    });

    window.addEventListener('onColorSchemeChange', (e) => {
        if (!utterancesLoaded) return;
        setUtterancesTheme(e.detail)
    })
</script>


    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2023 - 
        
        2024 David&#39;s Blogs
    </section>
    
    <section class="powerby">
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        Theme <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.25.0">Stack</a></b> designed by <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a>
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
